

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Functions &mdash; AtomVM 0.7.0-dev+git.f6d5d168 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=e925141f" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://doc.atomvm.org/main/apidocs/libatomvm/functions.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=8c433d0d"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Data Structures" href="data_structures.html" />
    <link rel="prev" title="libAtomVM" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/avm_logo_banner.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../welcome-to-atomvm.html">Welcome to AtomVM!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started-guide.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../atomvm-tooling.html">AtomVM Tooling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programmers-guide.html">Programmers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../network-programming-guide.html">Network Programming Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../distributed-erlang.html">Distributed Erlang</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../differences-with-beam.html">Differences between AtomVM and BEAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build-instructions.html">Build Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../atomvm-internals.html">AtomVM Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../memory-management.html">Memory Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../packbeam-format.html">Packbeam Format</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api-reference-documentation.html">API Reference Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../api-reference-documentation.html#erlang-libraries">Erlang Libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../api-reference-documentation.html#atomvm-c-apis">AtomVM ‘C’ APIs</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">libAtomVM</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="data_structures.html">Data Structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="data_structures.html#enumerations">Enumerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="macros.html">MACROS</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#libatomvm-source-files">libAtomVM source files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../C_CODING_STYLE.html">AtomVM C Coding Style Guide (AVMCCS Guide)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">AtomVM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../api-reference-documentation.html">API Reference Documentation</a></li>
          <li class="breadcrumb-item"><a href="index.html">libAtomVM</a></li>
      <li class="breadcrumb-item active">Functions</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="functions">
<h1>Functions<a class="headerlink" href="#functions" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.atom_are_equals">
<span class="target" id="libatomvmatom_8h_1a33a42361e4c6c386a40e29ad01252d20"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">atom_are_equals</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">a</span></span>, <span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.atom_are_equals" title="Link to this definition"></a><br /></dt>
<dd><p>Check for equality two AtomStrings. </p>
<p>Returns 1 if two atom strings are equal, 0 otherwise. This function doesn’t behave like strcmp. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> – first atom string to be compared. </p></li>
<li><p><strong>b</strong> – second atom string to be compared. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>1 if they are equals, 0 otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.atom_string_data">
<span class="target" id="libatomvmatom_8h_1afb2f650c27b7561a765cb1593d1c368e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">atom_string_data</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">atom_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.atom_string_data" title="Link to this definition"></a><br /></dt>
<dd><p>Gets actual atom string data. </p>
<p>Returns actual atom string data, which is not a \0 terminated C string. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atom_str</strong> – an AtomString pointer. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>const pointer to string data (chars array). </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.atom_string_len">
<span class="target" id="libatomvmatom_8h_1a385377dcdb81255f0896e696b5816e0e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">atom_string_len</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">atom_str</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.atom_string_len" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the length of an atom string in bytes. </p>
<p>Returns the length stored in the AtomString (which means that length is not computed). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atom_str</strong> – the atom string. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the specified atom string length. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.atom_string_to_c">
<span class="target" id="libatomvmatom_8h_1a0456e98b453228ac8fc77381d4b629e3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">atom_string_to_c</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">atom_string</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">bufsize</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.atom_string_to_c" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a C string from an AtomString. </p>
<p>Copies the atom string data to a buffer and makes it null terminated. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atom_string</strong> – that will be converted to a C string. </p></li>
<li><p><strong>buf</strong> – the buffer where the C string will be written. </p></li>
<li><p><strong>bufsize</strong> – available buf size. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.atom_write_mfa">
<span class="target" id="libatomvmatom_8h_1a86cebfbce23e648256d86165c3a1cf37"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">atom_write_mfa</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">buf_size</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">module_name_len</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">module_data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">function_name_len</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">function_data</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.atom_write_mfa" title="Link to this definition"></a><br /></dt>
<dd><p>Write module:function/arity to the supplied buffer. </p>
<p>Write module:function/arity to the supplied buffer. This function will abort if the written module, function, and arity are longer than the supplied buffer size. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buf</strong> – the buffer to write into </p></li>
<li><p><strong>buf_size</strong> – the amount of room in the buffer </p></li>
<li><p><strong>module_name_len</strong> – length of the module name </p></li>
<li><p><strong>module_data</strong> – the module name </p></li>
<li><p><strong>function_name_len</strong> – length of the function name </p></li>
<li><p><strong>function_data</strong> – the function name </p></li>
<li><p><strong>arity</strong> – the function arity </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.avmpack_find_section_by_flag">
<span class="target" id="libatomvmavmpack_8h_1ad6274ef73074b80e4c5c2e08a0376744"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">avmpack_find_section_by_flag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">avmpack_binary</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags_mask</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">size</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.avmpack_find_section_by_flag" title="Link to this definition"></a><br /></dt>
<dd><p>Finds an AVM Pack section that has certain flags set. </p>
<p>Finds an AVM Pack section that has certain flags set and returns a pointer to it, its size and its name. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>avmpack_binary</strong> – a pointer to valid AVM Pack file data. </p></li>
<li><p><strong>flags_mask</strong> – that will be matched against file sections. </p></li>
<li><p><strong>ptr</strong> – will point to the found file section. </p></li>
<li><p><strong>size</strong> – will be set to the file section size that has been found, if the section has not been found it will not be updated. </p></li>
<li><p><strong>name</strong> – the section name, as defined in the module header. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>1 if the file section has been found, 0 otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.avmpack_find_section_by_name">
<span class="target" id="libatomvmavmpack_8h_1abdb50996509adc7ac2bbdbe43636f14a"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">avmpack_find_section_by_name</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">avmpack_binary</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.avmpack_find_section_by_name" title="Link to this definition"></a><br /></dt>
<dd><p>Finds an AVM Pack section that has certain name. </p>
<p>Finds an AVM Pack section with a certain name and returns a pointer to it and its size. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>avmpack_binary</strong> – a pointer to valid AVM Pack file data. </p></li>
<li><p><strong>name</strong> – the file section name that will be searched. </p></li>
<li><p><strong>ptr</strong> – will point to the found file section, if the section has not been found it will not be updated. </p></li>
<li><p><strong>size</strong> – will be set to the file section size that has been found, if the section has not been found it will not be updated. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>1 if the file section has been found, 0 otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.avmpack_fold">
<span class="target" id="libatomvmavmpack_8h_1affd384d7550cf8dfcf98ca3e73564e5e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">avmpack_fold</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">accum</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">avmpack_binary</span></span>, <span class="n"><span class="pre">avmpack_fold_fun</span></span><span class="w"> </span><span class="n"><span class="pre">fold_fun</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.avmpack_fold" title="Link to this definition"></a><br /></dt>
<dd><p>Fold over all the sections in an AVM Pack. </p>
<p>This function will call the callback on each section of the AVM Pack, passing in the current section of each module in the AVM binary to the supplied fold function. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>accum</strong> – The accumulator supplied by the application. </p></li>
<li><p><strong>avmpack_binary</strong> – a pointer to an AVM Pack binary. </p></li>
<li><p><strong>fold_fun</strong> – function that will be called for each AVM section. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.avmpack_is_valid">
<span class="target" id="libatomvmavmpack_8h_1ae5f71fe251c69cd1a11bc45073c38f0a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">avmpack_is_valid</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">avmpack_binary</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.avmpack_is_valid" title="Link to this definition"></a><br /></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the pointed binary is a valid AVM Pack. </p>
<p>Returns if the pointed binary is a valid AVM Pack binary or not. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>avmpack_binary</strong> – a pointer to an AVM Pack binary. </p></li>
<li><p><strong>size</strong> – the size of AVM Pack binary. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if it is a valid AVM Pack binary, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_copy_bits">
<span class="target" id="libatomvmbitstring_8h_1ac0b247e5f1c9136a4c895bb1906337f7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_copy_bits</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dst</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">bits_offset</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">src</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">bits_count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_copy_bits" title="Link to this definition"></a><br /></dt>
<dd><p>Copy bits_count bits from src to dst[bits_offset..]. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dst</strong> – destination buffer </p></li>
<li><p><strong>bits_offset</strong> – offset in bits in destination buffer </p></li>
<li><p><strong>src</strong> – source buffer </p></li>
<li><p><strong>bits_count</strong> – number of bits </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_copy_bits_incomplete_bytes">
<span class="target" id="libatomvmbitstring_8h_1af7029166df19925d2e4ed82029a89331"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_copy_bits_incomplete_bytes</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dst</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">bits_offset</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">src</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">bits_count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_copy_bits_incomplete_bytes" title="Link to this definition"></a><br /></dt>
<dd><p>Copy bits_count bits from src to dst[bits_offset..]. </p>
<p>Called by bitstring_copy_bits when bytes are not complete.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dst</strong> – destination buffer </p></li>
<li><p><strong>bits_offset</strong> – offset in bits in destination buffer </p></li>
<li><p><strong>src</strong> – source buffer </p></li>
<li><p><strong>bits_count</strong> – number of bits </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_insert_utf16">
<span class="target" id="libatomvmbitstring_8h_1a2d0281250f750e60aff79f199868ebc5"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_insert_utf16</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">dst_bin</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">BitstringFlags</span></span><span class="w"> </span><span class="n"><span class="pre">bs_flags</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_insert_utf16" title="Link to this definition"></a><br /></dt>
<dd><p>Insert a character in UTF-&amp;§ format. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dst_bin</strong> – binary to insert to </p></li>
<li><p><strong>offset</strong> – offset, in bits, to where to insert the character </p></li>
<li><p><strong>c</strong> – character to encode </p></li>
<li><p><strong>bs_flags</strong> – flags to encode the character (undefined/little/big/native) </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if c is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_insert_utf32">
<span class="target" id="libatomvmbitstring_8h_1a96b065ae409a51aaeb9226991d9a1fc2"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_insert_utf32</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">dst_bin</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">BitstringFlags</span></span><span class="w"> </span><span class="n"><span class="pre">bs_flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_insert_utf32" title="Link to this definition"></a><br /></dt>
<dd><p>Insert a character in UTF-32 format. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dst_bin</strong> – binary to insert to </p></li>
<li><p><strong>offset</strong> – offset, in bits, to where to insert the character </p></li>
<li><p><strong>c</strong> – character to encode </p></li>
<li><p><strong>bs_flags</strong> – flags to encode the character (undefined/little/big/native) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if c is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_insert_utf8">
<span class="target" id="libatomvmbitstring_8h_1a729e79d5ed9e46e42cd20ca923258881"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_insert_utf8</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">dst_bin</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_insert_utf8" title="Link to this definition"></a><br /></dt>
<dd><p>Insert a character in UTF-8 format. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dst_bin</strong> – binary to insert to </p></li>
<li><p><strong>offset</strong> – offset, in bits, to where to insert the character </p></li>
<li><p><strong>c</strong> – character to encode </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if c is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_match_utf16">
<span class="target" id="libatomvmbitstring_8h_1a21081894ac1ee0752747612577d4d5bf"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_match_utf16</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">src_bin</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">BitstringFlags</span></span><span class="w"> </span><span class="n"><span class="pre">bs_flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_match_utf16" title="Link to this definition"></a><br /></dt>
<dd><p>Match a character in UTF-16 format. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_bin</strong> – binary to match against </p></li>
<li><p><strong>offset</strong> – offset, in bits, to where to start to match the character </p></li>
<li><p><strong>c</strong> – int to decode to </p></li>
<li><p><strong>bs_flags</strong> – flags to decode the character (undefined/little/big/native) </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if src_bin at offset is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_match_utf32">
<span class="target" id="libatomvmbitstring_8h_1a599285890c7343a6686dc0b48ff3d953"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_match_utf32</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">src_bin</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">BitstringFlags</span></span><span class="w"> </span><span class="n"><span class="pre">bs_flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_match_utf32" title="Link to this definition"></a><br /></dt>
<dd><p>Match a character in UTF-32 format. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_bin</strong> – binary to match against </p></li>
<li><p><strong>offset</strong> – offset, in bits, to where to start to match the character </p></li>
<li><p><strong>c</strong> – int to decode to </p></li>
<li><p><strong>bs_flags</strong> – flags to decode the character (undefined/little/big/native) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if src_bin at offset is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_match_utf8">
<span class="target" id="libatomvmbitstring_8h_1ab1f2822bb37cb6a22b6d97b101a4f66e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_match_utf8</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">src_bin</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_match_utf8" title="Link to this definition"></a><br /></dt>
<dd><p>Match a character in UTF-8 format. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_bin</strong> – binary to match against </p></li>
<li><p><strong>offset</strong> – offset, in bits, to where to start to match the character </p></li>
<li><p><strong>c</strong> – int to decode to </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if src_bin at offset is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_utf16_decode">
<span class="target" id="libatomvmbitstring_8h_1ad6dc7f74e487679852d33815dbe9141b"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_utf16_decode</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">BitstringFlags</span></span><span class="w"> </span><span class="n"><span class="pre">bs_flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_utf16_decode" title="Link to this definition"></a><br /></dt>
<dd><p>Decode a character from UTF-16. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – int value to decode to </p></li>
<li><p><strong>buf</strong> – the buffer froom which to decode the sring to or NULL to only compute the size. </p></li>
<li><p><strong>len</strong> – the length (in bytes) of the bytes in buf </p></li>
<li><p><strong>bs_flags</strong> – flags to decode the character (undefined/little/big/native) </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output (if not NULL) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if decoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if character starting at buf is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_utf16_encode">
<span class="target" id="libatomvmbitstring_8h_1a671c0cca27648c36130924f61e5c5c13"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_utf16_encode</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">BitstringFlags</span></span><span class="w"> </span><span class="n"><span class="pre">bs_flags</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_utf16_encode" title="Link to this definition"></a><br /></dt>
<dd><p>Encode a character to UTF-16. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – character to encode </p></li>
<li><p><strong>buf</strong> – the buffer to encode the character to or NULL to only compute the size. </p></li>
<li><p><strong>bs_flags</strong> – flags to encode the character (undefined/little/big/native) </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output (if not NULL) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if c is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_utf16_size">
<span class="target" id="libatomvmbitstring_8h_1af9d82e9287496ac3f330697e1022f16b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_utf16_size</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_utf16_size" title="Link to this definition"></a><br /></dt>
<dd><p>Compute the size of a unicode character when UTF-16 encoded. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – character to encode </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if c is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_utf32_decode">
<span class="target" id="libatomvmbitstring_8h_1a0129499cd8f2b23cac2eefdb4483e75c"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_utf32_decode</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">BitstringFlags</span></span><span class="w"> </span><span class="n"><span class="pre">bs_flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_utf32_decode" title="Link to this definition"></a><br /></dt>
<dd><p>Decode a character from UTF-32. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – int value to decode to </p></li>
<li><p><strong>buf</strong> – the buffer froom which to decode the sring to or NULL to only compute the size. </p></li>
<li><p><strong>len</strong> – the length (in bytes) of the bytes in buf </p></li>
<li><p><strong>bs_flags</strong> – flags to decode the character (undefined/little/big/native) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if decoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if character starting at buf is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_utf32_encode">
<span class="target" id="libatomvmbitstring_8h_1a6faa1321fc80cabc0417679b550a4c03"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_utf32_encode</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">BitstringFlags</span></span><span class="w"> </span><span class="n"><span class="pre">bs_flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_utf32_encode" title="Link to this definition"></a><br /></dt>
<dd><p>Encode a character to UTF-32. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – character to encode </p></li>
<li><p><strong>buf</strong> – the buffer to encode the character </p></li>
<li><p><strong>bs_flags</strong> – flags to encode the character (undefined/little/big/native) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if c is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_utf8_encode">
<span class="target" id="libatomvmbitstring_8h_1a4cdb168d961b620ddc471df02a3740fd"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_utf8_encode</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_utf8_encode" title="Link to this definition"></a><br /></dt>
<dd><p>Encode a character to UTF-8. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – character to encode </p></li>
<li><p><strong>buf</strong> – the buffer to encode the sring to or NULL to only compute the size. </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output (if not NULL) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if c is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.bitstring_utf8_size">
<span class="target" id="libatomvmbitstring_8h_1a6ca669492a030bd74a6407e0aba8a24f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bitstring_utf8_size</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.bitstring_utf8_size" title="Link to this definition"></a><br /></dt>
<dd><p>Compute the size of a character when UTF-8 encoded. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – character to encode </p></li>
<li><p><strong>out_size</strong> – the size in bytes, on output </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if encoding was successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> if c is not a valid unicode character </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_avail_free_memory">
<span class="target" id="libatomvmcontext_8h_1a6240a30a82447bb41aba53f6887852ba"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_avail_free_memory</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_avail_free_memory" title="Link to this definition"></a><br /></dt>
<dd><p>Returns available free memory in term units. </p>
<p>Returns the number of terms that can fit either on the heap. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – a valid context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>available free memory that is avail_size_in_bytes / sizeof(term). </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_clean_registers">
<span class="target" id="libatomvmcontext_8h_1a7155677b950c899852db2fba1f7b18f2"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_clean_registers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">live</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_clean_registers" title="Link to this definition"></a><br /></dt>
<dd><p>Cleans up unused registers. </p>
<p>Sets to NIL unused registers, x[0] - x[live - 1] will not be overwritten. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – a valid context </p></li>
<li><p><strong>live</strong> – number of used registers </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_destroy">
<span class="target" id="libatomvmcontext_8h_1ac7e7f9b3ac2491d0d488143871008332"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_destroy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_destroy" title="Link to this definition"></a><br /></dt>
<dd><p>Destroys a context. </p>
<p>Frees context resources and memory and removes it from the processes table. This should be called from the scheduler only. To actually delete a context that was created with context_new, use scheduler_terminate. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the context that will be destroyed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_ensure_fpregs">
<span class="target" id="libatomvmcontext_8h_1a2ced3cf2a97f867a0ac71a43d9af1a67"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_ensure_fpregs</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_ensure_fpregs" title="Link to this definition"></a><br /></dt>
<dd><p>Ensure we have FP registers, allocating them if necessary. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – context fo allocate FP registers for </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_execute_loop">
<span class="target" id="libatomvmcontext_8h_1af8fb304071eaf72c1468790168b29cb6"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_execute_loop</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mod</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">function_name</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">arity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_execute_loop" title="Link to this definition"></a><br /></dt>
<dd><p>Starts executing a function. </p>
<p>Start executing bytecode for the specified function, this function will block until it terminates. The outcome is saved to x[0] register. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context that will be used to run the specified functions, x registers must be set to function arguments. </p></li>
<li><p><strong>mod</strong> – the module name C string. </p></li>
<li><p><strong>function_name</strong> – the function name C string. </p></li>
<li><p><strong>arity</strong> – the function arity (number of arguments that are required). </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>1 if an error occurred, otherwise 0 is always returned. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_get_flags">
<span class="target" id="libatomvmcontext_8h_1a0ad7bfc633537d45cbf2d52b0c0baa40"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_get_flags</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">mask</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_get_flags" title="Link to this definition"></a><br /></dt>
<dd><p>Get flags on a given context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context to get flags on. </p></li>
<li><p><strong>mask</strong> – the mask to apply on flags </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_get_process_info">
<span class="target" id="libatomvmcontext_8h_1a58f49b88ac1ce8c4801b544f65be70be"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_get_process_info</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">term_size</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">atom_key</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_get_process_info" title="Link to this definition"></a><br /></dt>
<dd><p>Get process information. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context being executed </p></li>
<li><p><strong>out</strong> – the answer term. Can be NULL if only the size matters. </p></li>
<li><p><strong>term_size</strong> – the size of the answer term, in words. </p></li>
<li><p><strong>atom_key</strong> – the key representing the info to get </p></li>
<li><p><strong>heap</strong> – the heap to allocate the answer to </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> in case of an error in which case *out is filled with an exception atom if it was not NULL </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_is_port_driver">
<span class="target" id="libatomvmcontext_8h_1a0cb8b380c7ae23e21f8cf03821046f97"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_is_port_driver</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_is_port_driver" title="Link to this definition"></a><br /></dt>
<dd><p>Returns 1 if the context is a port driver. </p>
<p>Checks if the given context has a native_handler or not. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – a valid context </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>1 if ctx is a port driver, otherwise 0 is returned. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_is_term_equal_to_atom_string">
<span class="target" id="libatomvmcontext_8h_1a895b76878d1e070f64271ddd2daf44b3"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_is_term_equal_to_atom_string</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">atom_a</span></span>, <span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">atom_string_b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_is_term_equal_to_atom_string" title="Link to this definition"></a><br /></dt>
<dd><p>Compares a term with an AtomString. </p>
<p>Checks if the given term and the given AtomString refers to the same atom. This function is just a shortcut that uses the corresponding funtion from globalcontext. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the current <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a>. </p></li>
<li><p><strong>atom_a</strong> – any term of any type, when it is not an atom false is always returned. </p></li>
<li><p><strong>atom_string_b</strong> – an atom string, which is the atom length followed by atom characters. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if they both refer to the same atom, otherwise false. </p>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “context_link” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_message_queue_len">
<span class="target" id="libatomvmcontext_8h_1a849dd3bae392a62c531d5929f9acc940"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_message_queue_len</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_message_queue_len" title="Link to this definition"></a><br /></dt>
<dd><p>Returns number of messages in the process’s mailbox. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – a valid context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of messages in the process’s mailbox </p>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “context_monitor” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_new">
<span class="target" id="libatomvmcontext_8h_1a5ead3055ac6c4c57a32436c5b48c789b"></span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">context_new</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_new" title="Link to this definition"></a><br /></dt>
<dd><p>Creates a new context. </p>
<p>Allocates a new <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a> struct and initialize it. The newly created context is also inserted into the processes table, however it is not scheduled, allowing for further initialization. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – The global context of this virtual machine instance. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>created context. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_process_flush_monitor_signal">
<span class="target" id="libatomvmcontext_8h_1a51ca48be6979ffec53e0b5b6a8a3c63d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_process_flush_monitor_signal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n"><span class="pre">ref_ticks</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">info</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_process_flush_monitor_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Process a flush monitor signal. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context being executed </p></li>
<li><p><strong>ref_ticks</strong> – the monitor reference </p></li>
<li><p><strong>info</strong> – whether to return FALSE_ATOM if no message was flushed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_process_kill_signal">
<span class="target" id="libatomvmcontext_8h_1abe9d086f741940a2faf5aeaca436a746"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_process_kill_signal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">TermSignal</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">signal</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_process_kill_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Process a kill signal, setting the exit reason and changing the killed flag. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context being executed </p></li>
<li><p><strong>signal</strong> – the kill message </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_process_process_info_request_signal">
<span class="target" id="libatomvmcontext_8h_1a2bba5ee3d06bd0ba2767dc064531bf24"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_process_process_info_request_signal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">BuiltInAtomRequestSignal</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">signal</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">process_table_locked</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_process_process_info_request_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Process a process info request signal. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context being executed </p></li>
<li><p><strong>signal</strong> – the process info signal </p></li>
<li><p><strong>process_table_locked</strong> – whether process table is already locked </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_process_signal_trap_answer">
<span class="target" id="libatomvmcontext_8h_1a408711c9f488f4c22fd72175489d9db3"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_process_signal_trap_answer</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">TermSignal</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">signal</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_process_signal_trap_answer" title="Link to this definition"></a><br /></dt>
<dd><p>Process a trap answer signal. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context being executed </p></li>
<li><p><strong>signal</strong> – the answer message </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if successful, <code class="docutils literal notranslate"><span class="pre">false</span></code> in case of memory error </p>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “context_resource_monitor” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_size">
<span class="target" id="libatomvmcontext_8h_1a9d013bc537dcc7d9eef2594d7ca2379e"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_size</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_size" title="Link to this definition"></a><br /></dt>
<dd><p>Returns total amount of size (in byes) occupied by the process. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – a valid context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>total amount of size (in byes) occupied by the process </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_stack_base">
<span class="target" id="libatomvmcontext_8h_1adade58b2b7c8c060f8961f9e3c4ae324"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">context_stack_base</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_stack_base" title="Link to this definition"></a><br /></dt>
<dd><p>Returns a context’s stack base. </p>
<p>Used for stack traces </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – a valid context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the stack base </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_stack_size">
<span class="target" id="libatomvmcontext_8h_1a279854e17f0423a60451afcf9c56cbaa"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_stack_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_stack_size" title="Link to this definition"></a><br /></dt>
<dd><p>Returns a context’s stack size. </p>
<p>Return the number of terms currently on the stack. Used for stack traces. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – a valid context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>stack size in terms </p>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “context_unlink” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.context_update_flags">
<span class="target" id="libatomvmcontext_8h_1af438fde9632aa75a349cca85a2b7c52a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">context_update_flags</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">mask</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.context_update_flags" title="Link to this definition"></a><br /></dt>
<dd><p>Set or clear a flag on another context. </p>
<p>atomically update flags &lt;- (flags &amp; mask) | value </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context to set/clear flag on. </p></li>
<li><p><strong>mask</strong> – the mask to apply on flags </p></li>
<li><p><strong>value</strong> – the value to set </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.debug_dump_context">
<span class="target" id="libatomvmdebug_8h_1ab46eaaa7e170c807587b7cd0c0a0ab00"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug_dump_context</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.debug_dump_context" title="Link to this definition"></a><br /></dt>
<dd><p>Print a repreentation of the context to stderr. </p>
<p>Print heap, stack, and registers of the given context to stderr. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the process context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.debug_dump_heap">
<span class="target" id="libatomvmdebug_8h_1a785def2c334134cf3e3f3a18a4dbb306"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug_dump_heap</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.debug_dump_heap" title="Link to this definition"></a><br /></dt>
<dd><p>Print heap contents to stderr. </p>
<p>Print the dump of the heap of the given context to stderr. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the process context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.debug_dump_memory">
<span class="target" id="libatomvmdebug_8h_1a6dd038cc069497e0c33e63c247cefe29"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug_dump_memory</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">start</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">end</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">region</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.debug_dump_memory" title="Link to this definition"></a><br /></dt>
<dd><p>Print a region of (term) memory to stderr. </p>
<p>Print the dump of the memory the given context to stderr. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the process context. </p></li>
<li><p><strong>start</strong> – the start address. </p></li>
<li><p><strong>end</strong> – the end address. </p></li>
<li><p><strong>region</strong> – the name of the region to display. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.debug_dump_registers">
<span class="target" id="libatomvmdebug_8h_1a90d234c6d4542b90dbebbfcff5ad0f14"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug_dump_registers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.debug_dump_registers" title="Link to this definition"></a><br /></dt>
<dd><p>Print register contents to stderr. </p>
<p>Print the dump of the registers of the given context to stderr. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the process context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.debug_dump_stack">
<span class="target" id="libatomvmdebug_8h_1a9358ec371ae60e04866bb31ef17b278b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug_dump_stack</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.debug_dump_stack" title="Link to this definition"></a><br /></dt>
<dd><p>Print stack contents to stderr. </p>
<p>Print the dump of the stack of the given context to stderr. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the process context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.debug_print_processes_list">
<span class="target" id="libatomvmdebug_8h_1af58d27675bd634fd856fcd4cdcf963fd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug_print_processes_list</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ListHead</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">processes</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.debug_print_processes_list" title="Link to this definition"></a><br /></dt>
<dd><p>Prints a list of processes. </p>
<p>Prints to stderr a list of processes. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>processes</strong> – the list of processes that will be printed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.destroy_resource_monitors">
<span class="target" id="libatomvmresources_8h_1a1fb067a508327a46fc4f6b5a5b93b421"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">destroy_resource_monitors</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">resource</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.destroy_resource_monitors" title="Link to this definition"></a><br /></dt>
<dd><p>Destroy monitors associated with a resource. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> – resource to destroy monitors for </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_alloc_resource">
<span class="target" id="libatomvmerl__nif_8h_1aba976aba3ac3a10795dbb7d240b0a5f7"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">enif_alloc_resource</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifResourceType</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">type</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_alloc_resource" title="Link to this definition"></a><br /></dt>
<dd><p>Allocate a resource for given type for <code class="docutils literal notranslate"><span class="pre">size</span></code> bytes. </p>
<p>following BEAM semantics, the resource is created with a refcount of 1. A call to <code class="docutils literal notranslate"><span class="pre">enif_release_resource</span></code> will decrement the refcount and destroy the resource if it is zero.</p>
<p>Typical usage (as suggested by BEAM documentation) is to call <code class="docutils literal notranslate"><span class="pre">enif_make_resource</span></code> and then <code class="docutils literal notranslate"><span class="pre">enif_release_resource</span></code> to somewhat transfer ownership to the garbage collector. <code class="docutils literal notranslate"><span class="pre">enif_make_resource</span></code> will increment refcount to 2 and also add the resource to the MSO list of the context, so when the term is no longer referenced in the context heap, the reference counter will be decremented by gc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> – a trype created by <code class="docutils literal notranslate"><span class="pre">enif_init_resource_type</span></code>. </p></li>
<li><p><strong>size</strong> – the size in bytes. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a pointer or <code class="docutils literal notranslate"><span class="pre">NULL</span></code> on failure. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_compare_monitors">
<span class="target" id="libatomvmerl__nif_8h_1aa18ebb156c77da9533bbc79082071d75"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enif_compare_monitors</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">ErlNifMonitor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">monitor1</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">ErlNifMonitor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">monitor2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_compare_monitors" title="Link to this definition"></a><br /></dt>
<dd><p>compare two monitors </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>monitor1</strong> – first monitor </p></li>
<li><p><strong>monitor2</strong> – second monitor </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 if equals, &lt; 0 if <code class="docutils literal notranslate"><span class="pre">monitor1</span></code> &lt; <code class="docutils literal notranslate"><span class="pre">monitor2</span></code>, &gt; 0 if <code class="docutils literal notranslate"><span class="pre">monitor1</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">monitor2</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_demonitor_process">
<span class="target" id="libatomvmerl__nif_8h_1aee276e56fa212d579c0e01f3f9de0611"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enif_demonitor_process</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifEnv</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">caller_env</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">ErlNifMonitor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mon</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_demonitor_process" title="Link to this definition"></a><br /></dt>
<dd><p>Unmonitor a process. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>caller_env</strong> – current environment </p></li>
<li><p><strong>obj</strong> – resource used by monitor </p></li>
<li><p><strong>mon</strong> – monitor </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_get_resource">
<span class="target" id="libatomvmerl__nif_8h_1adfc00e7dd74c2b899f4eb71453022971"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enif_get_resource</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifEnv</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">env</span></span>, <span class="n"><span class="pre">ERL_NIF_TERM</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="n"><span class="pre">ErlNifResourceType</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">type</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">objp</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_get_resource" title="Link to this definition"></a><br /></dt>
<dd><p>Get a pointer to a resource from a term representing it. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – the current environment </p></li>
<li><p><strong>t</strong> – the term </p></li>
<li><p><strong>type</strong> – the resource type </p></li>
<li><p><strong>objp</strong> – on output the pointer to the resource </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> on success, <code class="docutils literal notranslate"><span class="pre">false</span></code> on failure, if term is not a resource of type <code class="docutils literal notranslate"><span class="pre">type</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_init_resource_type">
<span class="target" id="libatomvmerl__nif_8h_1a6c35e992e03ef003d5bd9b417b437185"></span><span class="n"><span class="pre">ErlNifResourceType</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">enif_init_resource_type</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifEnv</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">env</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">ErlNifResourceTypeInit</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">init</span></span>, <span class="n"><span class="pre">ErlNifResourceFlags</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span>, <span class="n"><span class="pre">ErlNifResourceFlags</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tried</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_init_resource_type" title="Link to this definition"></a><br /></dt>
<dd><p>Create or take over (code upgrade) a resource type. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – the current environment </p></li>
<li><p><strong>init</strong> – a structure describing the callbacks. Callbacks can be NULL if not used. </p></li>
<li><p><strong>name</strong> – name of the resource (copied) </p></li>
<li><p><strong>flags</strong> – <code class="docutils literal notranslate"><span class="pre">ERL_NIF_RT_CREATE</span></code> or <code class="docutils literal notranslate"><span class="pre">ERL_NIF_RT_TAKEOVER</span></code> to create or take over. </p></li>
<li><p><strong>tried</strong> – on output, updated to <code class="docutils literal notranslate"><span class="pre">ERL_NIF_RT_CREATE</span></code> or <code class="docutils literal notranslate"><span class="pre">ERL_NIF_RT_TAKEOVER</span></code> depending on what has been done. On failure, updated to flags. Can be NULL. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the resource type or <code class="docutils literal notranslate"><span class="pre">NULL</span></code> on failure. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_keep_resource">
<span class="target" id="libatomvmerl__nif_8h_1a08353809e3b90c3e12c649bd7eae0cd9"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enif_keep_resource</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">resource</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_keep_resource" title="Link to this definition"></a><br /></dt>
<dd><p>Increment reference count of a resource. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> – the resource to keep </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_make_resource">
<span class="target" id="libatomvmerl__nif_8h_1ae5786c2a3432fd525f56faf876f00051"></span><span class="n"><span class="pre">ERL_NIF_TERM</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enif_make_resource</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifEnv</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">env</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_make_resource" title="Link to this definition"></a><br /></dt>
<dd><p>create a term from a resource </p>
<p>the term can be later passed to <code class="docutils literal notranslate"><span class="pre">enif_get_resource</span></code>.</p>
<p>The resource reference counter is incremented and it is added to the MSO list of the heap of env (which must be a context).</p>
<p>If the resource was just allocated with <code class="docutils literal notranslate"><span class="pre">enif_alloc_resource</span></code>, the reference counter should typically be decremented by a call to <code class="docutils literal notranslate"><span class="pre">enif_release_resource</span></code> matching usage documented by BEAM.</p>
<p>If the resource was not just allocated with <code class="docutils literal notranslate"><span class="pre">enif_alloc_resource</span></code>, to clear usage confusion, users should rather call <code class="docutils literal notranslate"><span class="pre">term_from_resource</span></code> and should not decrement the reference counter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – current environment </p></li>
<li><p><strong>obj</strong> – resource </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a new term representing the resource </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_monitor_process">
<span class="target" id="libatomvmerl__nif_8h_1ac318a9b7263a2a478eac19170876c334"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enif_monitor_process</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifEnv</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">env</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">ErlNifPid</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">target_pid</span></span>, <span class="n"><span class="pre">ErlNifMonitor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mon</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_monitor_process" title="Link to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="src/context.h.html#libatomvmstruct_monitor"><span class="std std-ref">Monitor</span></a> a process by using a resource object. </p>
<p>The monitor is automatically removed after being triggered or if the associated resource is deallocated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – current environment </p></li>
<li><p><strong>obj</strong> – resource to use for monitor </p></li>
<li><p><strong>target_pid</strong> – process to monitor </p></li>
<li><p><strong>mon</strong> – on output, monitor object (can be NULL) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success, &lt;0 if no down callback is provided with resource (badarg), &gt;0 if the process is no longer alive </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_release_resource">
<span class="target" id="libatomvmerl__nif_8h_1ab60199d6291fa0b93f81375a0fc5d677"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enif_release_resource</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">resource</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_release_resource" title="Link to this definition"></a><br /></dt>
<dd><p>Decrement reference count of a resource. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> – the resource to release </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code>. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.enif_select">
<span class="target" id="libatomvmerl__nif_8h_1a915974f4921601ed0981270eb91a3ca0"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enif_select</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifEnv</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">env</span></span>, <span class="n"><span class="pre">ErlNifEvent</span></span><span class="w"> </span><span class="n"><span class="pre">event</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">ErlNifSelectFlags</span></span><span class="w"> </span><span class="n"><span class="pre">mode</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">obj</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">ErlNifPid</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">pid</span></span>, <span class="n"><span class="pre">ERL_NIF_TERM</span></span><span class="w"> </span><span class="n"><span class="pre">ref</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.enif_select" title="Link to this definition"></a><br /></dt>
<dd><p>Run a POSIX-like select on a given object (event) and send a message when the object is readable or writable. </p>
<p>Actual implementation is platform dependent and platforms may not implement this feature.</p>
<p>On <code class="docutils literal notranslate"><span class="pre">generic_unix</span></code>, this is currently implemented using what <code class="docutils literal notranslate"><span class="pre">sys_poll_events</span></code> uses, namely <code class="docutils literal notranslate"><span class="pre">kqueue(2)</span></code> (if available) or <code class="docutils literal notranslate"><span class="pre">poll(2)</span></code>. Please note that <code class="docutils literal notranslate"><span class="pre">kqueue(2)</span></code> and <code class="docutils literal notranslate"><span class="pre">poll(2)</span></code> behave differently for some objects, for example for vnodes and EOF.</p>
<p>On <code class="docutils literal notranslate"><span class="pre">esp32</span></code>, this is currently implemented using <code class="docutils literal notranslate"><span class="pre">poll(2)</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – current environment </p></li>
<li><p><strong>event</strong> – event object (typically a file descriptor) </p></li>
<li><p><strong>mode</strong> – select mode (<code class="docutils literal notranslate"><span class="pre">ERL_NIF_SELECT_READ</span></code> and/or <code class="docutils literal notranslate"><span class="pre">ERL_NIF_SELECT_WRITE</span></code>) optionally with <code class="docutils literal notranslate"><span class="pre">ERL_NIF_SELECT_CANCEL</span></code> to cancel, or <code class="docutils literal notranslate"><span class="pre">ERL_NIF_SELECT_STOP</span></code> to stop. </p></li>
<li><p><strong>obj</strong> – resource object working as a container of the event object. </p></li>
<li><p><strong>pid</strong> – process id to send a message to or NULL to use the current process (from <code class="docutils literal notranslate"><span class="pre">env</span></code>) </p></li>
<li><p><strong>ref</strong> – reference object used in sent messages or <code class="docutils literal notranslate"><span class="pre">undefined</span></code> atom. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a negative value on failure, 0 or flags on success. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.event_listener_add_to_polling_set">
<span class="target" id="libatomvmlisteners_8h_1a3fffd8e65d6520aa7788218fa31ae7c0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event_listener_add_to_polling_set</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">EventListener</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">listener</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.event_listener_add_to_polling_set" title="Link to this definition"></a><br /></dt>
<dd><p>Add an event listener to the set of polled events. </p>
<p>This function must be implemented and will typically access the platform data from <code class="docutils literal notranslate"><span class="pre">glb</span></code> and add the event to the set. It is called by <code class="docutils literal notranslate"><span class="pre">process_listener_handler</span></code> when a handler returns a new listener. It can be called by <code class="docutils literal notranslate"><span class="pre">sys_register_listener</span></code>. It may just set a dirty flag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>listener</strong> – the listener to add to polling set </p></li>
<li><p><strong>glb</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.event_listener_is_event">
<span class="target" id="libatomvmlisteners_8h_1a23231710ec372895759c0859f2604cc4"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event_listener_is_event</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">EventListener</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">listener</span></span>, <span class="n"><span class="pre">listener_event_t</span></span><span class="w"> </span><span class="n"><span class="pre">event</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.event_listener_is_event" title="Link to this definition"></a><br /></dt>
<dd><p>Determiner if an event is a listener’s event. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>listener</strong> – the listener to test </p></li>
<li><p><strong>event</strong> – the event to test </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if event is the listener’s event </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.externalterm_from_binary">
<span class="target" id="libatomvmexternalterm_8h_1acd5e5a654d7a73f7e97f3ab6a225702c"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">externalterm_from_binary</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">binary</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">bytes_read</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.externalterm_from_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Create a term from a binary. </p>
<p>Deserialize a binary term that stores term data in Erlang external term format, and instantiate the serialized terms. The heap from the context will be used to allocate the instantiated terms. This function is the complement of externalterm_to_binary. WARNING: This function may call the GC, which may render the input binary invalid. See externalterm_from_binary_with_roots </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context that owns the memory that will be allocated. </p></li>
<li><p><strong>dst</strong> – a pointer to a term that will contain the binary encoded term. </p></li>
<li><p><strong>binary</strong> – the binary. </p></li>
<li><p><strong>bytes_read</strong> – the number of bytes read from the input binary. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the term deserialized from the input term, or an invalid term, if deserialization fails. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.externalterm_to_binary">
<span class="target" id="libatomvmexternalterm_8h_1ac206e81a0af456ae80d093af7b255a82"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">externalterm_to_binary</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.externalterm_to_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Create a binary from a term. </p>
<p>Serialize a term in Erlang external term format, and store the result in a binary term. The heap from the context will be used to allocate the hydrated terms. This function is the complement of externalterm_to_binary. WARNING: This function may call the GC, which may render the input binary invalid. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context that owns the memory that will be allocated. </p></li>
<li><p><strong>t</strong> – the term to return as binary. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the term deserialized from the input term, or an invalid term, if deserialization fails. </p>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “externalterm_to_term” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.externalterm_to_term_internal">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">externalterm_to_term_internal</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">external_term</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">ExternalTermOpts</span></span><span class="w"> </span><span class="n"><span class="pre">opts</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">bytes_read</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">copy</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.externalterm_to_term_internal" title="Link to this definition"></a><br /></dt>
<dd><p>Copy an external term to internal storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>external_term</strong> – buffer containing external term</p></li>
<li><p><strong>size</strong> – size of the external_term</p></li>
<li><p><strong>ctx</strong> – current context in which terms may be stored</p></li>
<li><p><strong>opts</strong> – additional opts, such as ExternalTermToHeapFragment for storing parsed
terms in a heap fragment, otherwise terms are stored in the context heap.</p></li>
<li><p><strong>bytes_read</strong> – the number of bytes read off external_term in order to yield a term</p></li>
<li><p><strong>copy</strong> – whether to copy binary data and atom strings (pass <cite>true</cite>, unless
<cite>external_term</cite> is a const binary and will not be deallocated)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the parsed term</p>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “globalcontext_atomstring_from_term” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “globalcontext_demonitor” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_destroy">
<span class="target" id="libatomvmglobalcontext_8h_1a93332b64c459b51ffb1debed609df84c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_destroy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_destroy" title="Link to this definition"></a><br /></dt>
<dd><p>Destoys an existing <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_global_context"><span class="std std-ref">GlobalContext</span></a>. </p>
<p>Frees global context resources and memory and removes it from the processes table. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context that will be destroyed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_existing_term_from_atom_string">
<span class="target" id="libatomvmglobalcontext_8h_1a6460b395d8b02a1fcbe3f45b908df3a3"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_existing_term_from_atom_string</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">atom_string</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_existing_term_from_atom_string" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the term for an existing atom. </p>
<p>This function allows to get an atom term associated to the given atom string, if and only if the given atom is already in the atom table, otherwise an invalid term is returned. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>atom_string</strong> – the atom string that will be looked into the atom table. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the term associated with the supplied atom string when already existing in the atom table, otherwise an invalid term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_get_module">
<span class="target" id="libatomvmglobalcontext_8h_1a0c959a3d57e1647958a018183b638cad"></span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_get_module</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <span class="n"><span class="pre">atom_index_t</span></span><span class="w"> </span><span class="n"><span class="pre">module_name_atom</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_get_module" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the module with the given name. </p>
<p>Tries to get the module with the given name from the modules table and eventually loads it. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
<li><p><strong>module_name_atom</strong> – the module name. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a pointer to a <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_module"><span class="std std-ref">Module</span></a> struct. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_get_module_by_index">
<span class="target" id="libatomvmglobalcontext_8h_1aa764dc9078f5cb9f409c5148a43e8d66"></span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_get_module_by_index</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_get_module_by_index" title="Link to this definition"></a><br /></dt>
<dd><p>Get a module by index. </p>
<p>Safely retrieve the module by index considering the table can be reallocated by globalcontext_insert_module. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
<li><p><strong>index</strong> – the module index. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the module </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_get_process_lock">
<span class="target" id="libatomvmglobalcontext_8h_1a5961836bc63812919b49ce8ec229381e"></span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_get_process_lock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">process_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_get_process_lock" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a> from the process table, acquiring a lock on the process table. </p>
<p>Retrieves from the process table the context with the given local process id. If the process can be found, the process table is locked. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context (that owns the process table). </p></li>
<li><p><strong>process_id</strong> – the local process id. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a> * with the requested local process id or NULL if not found. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_get_process_nolock">
<span class="target" id="libatomvmglobalcontext_8h_1af7ea0d787c69ca653257ee8e1a5e9f3b"></span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_get_process_nolock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">process_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_get_process_nolock" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a> from the process table, without acquiring a lock on the process table. </p>
<p>Retrieves from the process table the context with the given local process id. If the process can be found, without locking the process table. This is unsafe unless a lock on the process table has been obtained previously. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context (that owns the process table). </p></li>
<li><p><strong>process_id</strong> – the local process id. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a> * with the requested local process id or NULL if not found. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_get_process_unlock">
<span class="target" id="libatomvmglobalcontext_8h_1a776b035cb29bf339cac76c0f620cbe33"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_get_process_unlock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_get_process_unlock" title="Link to this definition"></a><br /></dt>
<dd><p>Unlock the process table after c was gotten. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context (that owns the process table). </p></li>
<li><p><strong>c</strong> – the result of <code class="docutils literal notranslate"><span class="pre">globalcontext_get_process_lock</span></code>. If NULL, does nothing, otherwise releases the lock on process table. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_get_registered_process">
<span class="target" id="libatomvmglobalcontext_8h_1a6574367bfeaac8707d4781aaf14c0c26"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_get_registered_process</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">atom_index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_get_registered_process" title="Link to this definition"></a><br /></dt>
<dd><p>Get a registered process. </p>
<p>Returns the local process id of a previously registered process. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>atom_index</strong> – the atom table index. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a previously registered process local id or UNDEFINED_ATOM </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_get_registered_name_process">
<span class="target" id="libatomvmglobalcontext_8h_1af680275c03eec71f02af47724b106359"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_get_registered_name_process</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">local_process_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_get_registered_name_process" title="Link to this definition"></a><br /></dt>
<dd><p>Get registered name for a process/port. </p>
<p>Gets a process or port name (atom). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>local_process_id</strong> – the process local id. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{registered_name,</span> <span class="pre">RegisteredName}</span></code> if the process/port was registered,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[]</span></code> if the process/port is not registered. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_init_process">
<span class="target" id="libatomvmglobalcontext_8h_1accb1e9d4ee8b1f7181abce67e2e57c61"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_init_process</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_init_process" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize a new process, providing it with a process id. </p>
<p>This function also inserts the process into the process and waiting tables. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>ctx</strong> – the process to initialize </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “globalcontext_insert_atom” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_insert_atom_maybe_copy">
<span class="target" id="libatomvmglobalcontext_8h_1a5007f646ca99f59b1b37011b831a120e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_insert_atom_maybe_copy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">atom_data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">atom_len</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">copy</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_insert_atom_maybe_copy" title="Link to this definition"></a><br /></dt>
<dd><p>Inserts an atom into the global atoms table, making a copy of the supplied atom string, if copy is non-zero. </p>
<p>Inserts an atom into the global atoms table and returns its id. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>atom_string</strong> – the atom string that will be added to the global atoms table, it will not be copied so it must stay allocated and valid. </p></li>
<li><p><strong>copy</strong> – if <code class="docutils literal notranslate"><span class="pre">true</span></code>, make a copy of the input atom_string if the atom is not already in the table. The table assumes “ownership” of the allocated memory. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>newly added atom id or <a class="reference internal" href="src/term.h.html#libatomvmterm_8h_1a3a169e9a3e0ec70a5303a1fce2a1178f"><span class="std std-ref">term_invalid_term()</span></a> in case of failure. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_insert_module">
<span class="target" id="libatomvmglobalcontext_8h_1a5b4111790b1f6db298b7e15fd853323c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_insert_module</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">module</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_insert_module" title="Link to this definition"></a><br /></dt>
<dd><p>Inserts a module to the modules table. </p>
<p>Inserts an already loaded module to the modules table and assigns and index to it so it can be retrieved later by name or index. The module is then owned by the global context that will destroy it when globalcontext_destroy is invoked. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
<li><p><strong>module</strong> – the module that will be added to the modules table. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the module index if successful, otherwise -1. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_is_atom_index_equal_to_atom_string">
<span class="target" id="libatomvmglobalcontext_8h_1ac7256a26f46dd925f7ea50f7f4cf2247"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_is_atom_index_equal_to_atom_string</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">atom_index_t</span></span><span class="w"> </span><span class="n"><span class="pre">atom_index_a</span></span>, <span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">atom_string_b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_is_atom_index_equal_to_atom_string" title="Link to this definition"></a><br /></dt>
<dd><p>Compares an atom table index with an AtomString. </p>
<p>Checks if the given atom table index and the given AtomString refers to the same atom. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>atom_index_a</strong> – an atom table index. </p></li>
<li><p><strong>atom_string_b</strong> – an atom string, which is the atom length followed by atom characters. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if they both refer to the same atom, otherwise false. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_is_term_equal_to_atom_string">
<span class="target" id="libatomvmglobalcontext_8h_1aedcdb58b81407b89f1eb4e674cb5c575"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_is_term_equal_to_atom_string</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">atom_a</span></span>, <span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">atom_string_b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_is_term_equal_to_atom_string" title="Link to this definition"></a><br /></dt>
<dd><p>Compares a term with an AtomString. </p>
<p>Checks if the given term and the given AtomString refers to the same atom. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
<li><p><strong>atom_a</strong> – any term of any type, when it is not an atom false is always returned. </p></li>
<li><p><strong>atom_string_b</strong> – an atom string, which is the atom length followed by atom characters. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if they both refer to the same atom, otherwise false. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_make_atom">
<span class="target" id="libatomvmglobalcontext_8h_1af52738db69b3074af71ad9118f392e1c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_make_atom</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">atom_string</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_make_atom" title="Link to this definition"></a><br /></dt>
<dd><p>Returns a term representing an atom, from the supplied string. </p>
<p>Converts a string to an atom. Note that this function may have a side-effect on the global context. It doesn’t copy the atom string and is meant to be called with constant atom strings in code. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – pointer to the global context </p></li>
<li><p><strong>atom_string</strong> – an AtomString </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an atom term formed from the supplied atom string. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_maybe_unregister_process_id">
<span class="target" id="libatomvmglobalcontext_8h_1a98e6fa69fc602b5ff383d2ca4bd14341"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_maybe_unregister_process_id</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">process_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_maybe_unregister_process_id" title="Link to this definition"></a><br /></dt>
<dd><p>Remove entry(ies) from registered atoms by process id. </p>
<p>Unregister a process with a certain process id. This is used when a process dies to ensure the process is not registered and remove it from the registered atoms table if it is. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context, each registered process will be globally available for that context. </p></li>
<li><p><strong>process_id</strong> – the process id of the entry to remove. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_new">
<span class="target" id="libatomvmglobalcontext_8h_1a1ef1a0e0a0a24b3fda46233bfa0b2834"></span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_new</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_new" title="Link to this definition"></a><br /></dt>
<dd><p>Creates a new <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_global_context"><span class="std std-ref">GlobalContext</span></a>. </p>
<p>Allocates a new <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_global_context"><span class="std std-ref">GlobalContext</span></a> struct and initialize it, the newly created global context is a new AtomVM instance. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A newly created <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_global_context"><span class="std std-ref">GlobalContext</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_process_exists">
<span class="target" id="libatomvmglobalcontext_8h_1a5222c6b7d90bb69b0515eb86a2887da5"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_process_exists</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">process_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_process_exists" title="Link to this definition"></a><br /></dt>
<dd><p>Determine if a process exists. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context (that owns the process table). </p></li>
<li><p><strong>process_id</strong> – the local process id. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if a process exists with this id. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_process_task_driver_queues">
<span class="target" id="libatomvmglobalcontext_8h_1a5f6cd17b47cd847ccb074c109e73a0b2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_process_task_driver_queues</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_process_task_driver_queues" title="Link to this definition"></a><br /></dt>
<dd><p>Process refc binaries and messages enqueued from task drivers. </p>
<p>This function is called from the scheduler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_refc_decrement_refcount_from_task">
<span class="target" id="libatomvmglobalcontext_8h_1a35bc167545a8dbb6fbcc19a14a7f2e2e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_refc_decrement_refcount_from_task</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">refc</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_refc_decrement_refcount_from_task" title="Link to this definition"></a><br /></dt>
<dd><p>Enqueue a refc binary from a task driver, to be refc decremented later from the scheduler. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context </p></li>
<li><p><strong>refc</strong> – the refc binary to enqueue </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_register_process">
<span class="target" id="libatomvmglobalcontext_8h_1a0e0d5a00d040ac4cffb8c2bf91d39757"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_register_process</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">atom_index</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">local_pid_or_port</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_register_process" title="Link to this definition"></a><br /></dt>
<dd><p>Register a process. </p>
<p>Register a process with a certain name (atom) so it can be easily retrieved later. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context, each registered process will be globally available for that context. </p></li>
<li><p><strong>atom_index</strong> – the atom table index. </p></li>
<li><p><strong>local_pid_or_port</strong> – the local pid or port </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the process was registered, <code class="docutils literal notranslate"><span class="pre">false</span></code> if another process with the same name already existed </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_send_message">
<span class="target" id="libatomvmglobalcontext_8h_1a122570266744031d99e7043b14b955c9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_send_message</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">process_id</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_send_message" title="Link to this definition"></a><br /></dt>
<dd><p>Send a message to a process identified by its id. </p>
<p>Safely send a message to the process, doing nothing is the process cannot be found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context (that owns the process table). </p></li>
<li><p><strong>process_id</strong> – the local process id. </p></li>
<li><p><strong>t</strong> – the message to send. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_send_message_from_task">
<span class="target" id="libatomvmglobalcontext_8h_1a5f551c2a4838addcb446975fb410c49e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_send_message_from_task</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">process_id</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MessageType</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_send_message_from_task" title="Link to this definition"></a><br /></dt>
<dd><p>Send a message to a process identified by its id. This variant is to be used from task drivers. It tries to acquire the necessary locks and if it fails, it enqueues the message which will be delivered on the next scheduler context switch. </p>
<p>Safely send a message to the process, doing nothing if the process cannot be found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context (that owns the process table). </p></li>
<li><p><strong>process_id</strong> – the target process id. </p></li>
<li><p><strong>type</strong> – the type of message to send, can be NormalMessage or a signal </p></li>
<li><p><strong>t</strong> – the message to send. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_send_message_nolock">
<span class="target" id="libatomvmglobalcontext_8h_1adf67a9a3761620d9d99d7af66dc404fc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_send_message_nolock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">process_id</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_send_message_nolock" title="Link to this definition"></a><br /></dt>
<dd><p>Send a message to a process from another process. There should be a lock on the process table. This variant can be used by listener handlers as an optimization (instead of sending a message to the port context which should then forward it to the target context). </p>
<p>Safely send a message to the process, doing nothing if the process cannot be found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context (that owns the process table). </p></li>
<li><p><strong>process_id</strong> – the target process id. </p></li>
<li><p><strong>t</strong> – the message to send. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.globalcontext_unregister_process">
<span class="target" id="libatomvmglobalcontext_8h_1a72b041866f18279d131d9755cd89e135"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">globalcontext_unregister_process</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">atom_index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.globalcontext_unregister_process" title="Link to this definition"></a><br /></dt>
<dd><p>Unregister a process by name. </p>
<p>Unregister a process with a certain name (atom). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context, each registered process will be globally available for that context. </p></li>
<li><p><strong>atom_index</strong> – the atom table index. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the process was unregistered, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.iff_is_valid_beam">
<span class="target" id="libatomvmiff_8h_1a007ea68a116ebb5d5cf625d7365b5bd8"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iff_is_valid_beam</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">beam_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.iff_is_valid_beam" title="Link to this definition"></a><br /></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if pointed binary is valid BEAM IFF. </p>
<p>Checks if the pointed binary has a valid BEAM IFF header. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beam_data</strong> – a pointer to the beam_data binary </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if beam_data points to a valid binary, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code> is returned. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.inet_addr4_to_uint32">
<span class="target" id="libatomvminet_8h_1a0e364b039ff17d79d7a5f6bf675a1c3a"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inet_addr4_to_uint32</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">addr_tuple</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.inet_addr4_to_uint32" title="Link to this definition"></a><br /></dt>
<dd><p>Parse an inet IPv4 address tuple. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr_tuple</strong> – the tuple to parse </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the address as a uint32_t, in host order </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.inet_atom_to_domain">
<span class="target" id="libatomvminet_8h_1a95fe18ab5a4d4841338f5d136e2b0e80"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">inet_domain</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inet_atom_to_domain</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">domain</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.inet_atom_to_domain" title="Link to this definition"></a><br /></dt>
<dd><p>Parse an inet domain atom. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domain</strong> – the inet domain atom </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>InetDomain or InetInvalidDomain </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.inet_atom_to_protocol">
<span class="target" id="libatomvminet_8h_1ab45a415fec649dbb2ed974c763def202"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">inet_protocol</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inet_atom_to_protocol</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">protocol</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.inet_atom_to_protocol" title="Link to this definition"></a><br /></dt>
<dd><p>Parse an inet protocol. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protocol</strong> – the inet protocol atom </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the parsed protocol </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.inet_atom_to_type">
<span class="target" id="libatomvminet_8h_1ad74a69112e52f002d158225adac915d5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">inet_type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inet_atom_to_type</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.inet_atom_to_type" title="Link to this definition"></a><br /></dt>
<dd><p>Parse an inet type. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> – the inet type atom </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the parsed type </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.inet_make_addr4">
<span class="target" id="libatomvminet_8h_1a3a25a294db2e4f06451ef32a832c4adf"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inet_make_addr4</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.inet_make_addr4" title="Link to this definition"></a><br /></dt>
<dd><p>Make an inet IPv4 address tuple. </p>
<p>
this function requires that at least INET_ADDR4_TUPLE_SIZE terms are free on the heap. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> – the address to make as a tuple, as a uint32_t in host order </p></li>
<li><p><strong>heap</strong> – the heap to build the tuple in </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.interop_atom_term_select_atom">
<span class="target" id="libatomvminterop_8h_1a0d64ae3d8a0297b93f298bad8184362f"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interop_atom_term_select_atom</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">AtomStringIntPair</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">table</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.interop_atom_term_select_atom" title="Link to this definition"></a><br /></dt>
<dd><p>Finds the first matching atom in an atoms table . </p>
<p>Allows to quickly translate integer constants to an atom in an atoms table. This function is the inverse of interop_atom_term_select_int. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> – an array <a class="reference internal" href="src/interop.h.html#libatomvmstruct_atom_string_int_pair"><span class="std std-ref">AtomStringIntPair</span></a> structs, terminated with a default entry marked with SELECT_INT_DEFAULT macro. </p></li>
<li><p><strong>value</strong> – the in value used for comparison. </p></li>
<li><p><strong>global</strong> – the global context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the found atom which corresponds to the given int value, or the invalid term, if there is no such value in the table. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.interop_atom_term_select_int">
<span class="target" id="libatomvminterop_8h_1a77a52c8719e2510d9bca4cf5cae32d6c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interop_atom_term_select_int</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">AtomStringIntPair</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">table</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">atom</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.interop_atom_term_select_int" title="Link to this definition"></a><br /></dt>
<dd><p>Finds on a table the first matching atom string. </p>
<p>Allows to quickly translate atoms to any integer constant. This function is useful for creating switch statements for atom values. A linear search is performed, so table entries should be sorted by frequency. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> – an array <a class="reference internal" href="src/interop.h.html#libatomvmstruct_atom_string_int_pair"><span class="std std-ref">AtomStringIntPair</span></a> structs, terminated with a default entry marked with SELECT_INT_DEFAULT macro. </p></li>
<li><p><strong>atom</strong> – the atom used for comparison. </p></li>
<li><p><strong>global</strong> – the global context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the found int value which corresponds to the given atom. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.interop_kv_get_value">
<span class="target" id="libatomvminterop_8h_1a5eadaff30e3a6e5348d27824cacef678"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interop_kv_get_value</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">kv</span></span>, <span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">key</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.interop_kv_get_value" title="Link to this definition"></a><br /></dt>
<dd><p>Get a value given a key (as AtomString) from any proplist or map. </p>
<p>This function allows to easily get values from proplists or maps, without poluting the atom table. This function returns the invalid term if there is no such entry in kv. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kv</strong> – any proplist or map. </p></li>
<li><p><strong>key</strong> – an AtomString, such as ATOM_STR(“\x3”, “key”). </p></li>
<li><p><strong>glb</strong> – the global context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the value term in case given key exists, otherwise the invalid term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.interop_kv_get_value_default">
<span class="target" id="libatomvminterop_8h_1aeca0a310d3e09064bfafcdbcecdbadbb"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interop_kv_get_value_default</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">kv</span></span>, <span class="n"><span class="pre">AtomString</span></span><span class="w"> </span><span class="n"><span class="pre">key</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">default_value</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.interop_kv_get_value_default" title="Link to this definition"></a><br /></dt>
<dd><p>Get a value given a key (as AtomString) from any proplist or map. </p>
<p>This function allows to easily get values from proplists or maps, without poluting the atom table. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kv</strong> – any proplist or map. </p></li>
<li><p><strong>key</strong> – an AtomString, such as ATOM_STR(“\x3”, “key”). </p></li>
<li><p><strong>default_value</strong> – that is returned in case of missing item. </p></li>
<li><p><strong>glb</strong> – the global context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the value term in case given key exists, otherwise the default_value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.listener_event_remove_from_polling_set">
<span class="target" id="libatomvmlisteners_8h_1a5e2a9c52bb9e142b0c1c8f58151fbc08"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">listener_event_remove_from_polling_set</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">listener_event_t</span></span><span class="w"> </span><span class="n"><span class="pre">event</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.listener_event_remove_from_polling_set" title="Link to this definition"></a><br /></dt>
<dd><p>Remove an event from the set of polled events. </p>
<p>This function must be implemented and will typically access the platform data from <code class="docutils literal notranslate"><span class="pre">glb</span></code> and remove the event to the set. It is called by <code class="docutils literal notranslate"><span class="pre">process_listener_handler</span></code> when a handler returns NULL or a new listener. It can be called by <code class="docutils literal notranslate"><span class="pre">sys_unregister_listener</span></code>. It may just set a dirty flag.</p>
<p>Compared to <code class="docutils literal notranslate"><span class="pre">event_listener_add_to_polling_set</span></code>, the event listener may no longer exist if it was freed by the handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – the listener event to remove from polling set </p></li>
<li><p><strong>glb</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_crashdump">
<span class="target" id="libatomvmmailbox_8h_1a585b6c9d06de38299866e113520627c7"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_crashdump</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_crashdump" title="Link to this definition"></a><br /></dt>
<dd><p>Output mailbox to stderr for crashdump reporting. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the owner of the mailbox to dump </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_destroy">
<span class="target" id="libatomvmmailbox_8h_1a1063d90aefb0fbb48e723c4b0c0fa2b2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_destroy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_destroy" title="Link to this definition"></a><br /></dt>
<dd><p>Free memory associated with a mailbox. </p>
<p>All messages in the mailbox will be freed or appended to the heap. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to free. </p></li>
<li><p><strong>heap</strong> – the heap to add messages to. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_first">
<span class="target" id="libatomvmmailbox_8h_1a864305c1ed8d8b6a012441378c15560f"></span><a class="reference internal" href="../../atomvm-internals.html#c.Message" title="Message"><span class="n"><span class="pre">Message</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_first</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_first" title="Link to this definition"></a><br /></dt>
<dd><p>Get first message from mailbox. </p>
<p>Get the first message and sets the receive pointer to it so it can be removed later. Used by ports &amp; drivers. To be called from the process only. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to get the current message from. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>first message or NULL. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_has_next">
<span class="target" id="libatomvmmailbox_8h_1ade39cc707518da9021f34367a404b8dd"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_has_next</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_has_next" title="Link to this definition"></a><br /></dt>
<dd><p>Determine if there is a next item in message list. </p>
<p>To be called from the process only. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to test </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if peek would succeed. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_init">
<span class="target" id="libatomvmmailbox_8h_1a8f1234384c82beb79e2a33fa54fa254c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_init" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize the mailbox. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to initialize. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_len">
<span class="target" id="libatomvmmailbox_8h_1a8b49d31e6f61d1342b24450e7d67c3b5"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_len</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_len" title="Link to this definition"></a><br /></dt>
<dd><p>Compute the mailbox length, in messages. </p>
<p>To be called from the process only. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to get the length of. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_message_create_from_term">
<span class="target" id="libatomvmmailbox_8h_1ac1d464435e824cc439f4dcd6ccfc64c6"></span><span class="n"><span class="pre">MailboxMessage</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_message_create_from_term</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MessageType</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_message_create_from_term" title="Link to this definition"></a><br /></dt>
<dd><p>Allocate and serialize a term to a mailbox message. </p>
<p>Can be called from a task or even ISR (provided malloc works). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> – the message type, can be NormalMessage or a signal type </p></li>
<li><p><strong>t</strong> – the term that will be sent </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_message_dispose">
<span class="target" id="libatomvmmailbox_8h_1a1ca25bc9d606cc521a9f6275d17a9bef"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_message_dispose</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MailboxMessage</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">m</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_message_dispose" title="Link to this definition"></a><br /></dt>
<dd><p>Dispose a (processed) mailbox message. The message will be freed or appended to current heap and will be destroyed on garbage collect. This function is called by mailbox_remove and is only needed for signal messages. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m</strong> – the message to free. </p></li>
<li><p><strong>heap</strong> – heap to append the message to. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_next">
<span class="target" id="libatomvmmailbox_8h_1a31b908274aa018428af9306d2962b998"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_next</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_next" title="Link to this definition"></a><br /></dt>
<dd><p>Advance pointer to next message in a receive loop. </p>
<p>To be called from the process only. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to work with </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_peek">
<span class="target" id="libatomvmmailbox_8h_1a40dd8fcd9e4d4c8784c7199803546c0e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_peek</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_peek" title="Link to this definition"></a><br /></dt>
<dd><p>Gets next message from a mailbox (without removing it). </p>
<p>Peek the mailbox and retrieve a term that has been previously queued on a certain process or driver mailbox. To be called from the process only. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the calling context, owning the mailbox and where the message should be copied to. </p></li>
<li><p><strong>out</strong> – the allocated term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if a term was available </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_process_outer_list">
<span class="target" id="libatomvmmailbox_8h_1a85b74fde9f48b7ed53ea17ad1b58bd03"></span><span class="n"><span class="pre">MailboxMessage</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_process_outer_list</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_process_outer_list" title="Link to this definition"></a><br /></dt>
<dd><p>Process the outer list of messages. </p>
<p>To be called from the process only </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to work with </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the signal messages in received order. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_remove_message">
<span class="target" id="libatomvmmailbox_8h_1a834f9863f261886eec644df53f7ef975"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_remove_message</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_remove_message" title="Link to this definition"></a><br /></dt>
<dd><p>Remove next message from mailbox. </p>
<p>Discard a term that has been previously queued on a certain process or driver mailbox. To be called from the process only. Term messages are actually added as fragments to the heap and will be gone at next GC. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to remove next message from. </p></li>
<li><p><strong>heap</strong> – the heap to add messages to. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_reset">
<span class="target" id="libatomvmmailbox_8h_1ae947ce5a1dd6ab96d975fa5289bceecf"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_reset" title="Link to this definition"></a><br /></dt>
<dd><p>Reset mailbox receive pointer. </p>
<p>To be called from the process only. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to work with </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_send">
<span class="target" id="libatomvmmailbox_8h_1a734e82edf48dbe189e8bbfc2205c713d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_send</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_send" title="Link to this definition"></a><br /></dt>
<dd><p>Sends a message to a certain mailbox. </p>
<p>Sends a term to a certain process or port mailbox. Can be called from another process. Cannot be called from a task or from ISR. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process context. </p></li>
<li><p><strong>t</strong> – the term that will be sent. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_send_built_in_atom_request_signal">
<span class="target" id="libatomvmmailbox_8h_1a801b32d30795aa70a087e1c90137e042"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_send_built_in_atom_request_signal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MessageType</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span>, <span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">sender_pid</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">atom</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_send_built_in_atom_request_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Sends a built-in atom-based request signal to a certain mailbox. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process context. </p></li>
<li><p><strong>type</strong> – the type of the signal </p></li>
<li><p><strong>sender_pid</strong> – the sender of the signal (to get the answer) </p></li>
<li><p><strong>atom</strong> – the built-in atom </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “mailbox_send_built_in_atom_signal” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_send_empty_body_signal">
<span class="target" id="libatomvmmailbox_8h_1aea87556b928c0f598aa3292627720662"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_send_empty_body_signal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MessageType</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_send_empty_body_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Sends an empty body signal to a certain mailbox. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process context. </p></li>
<li><p><strong>type</strong> – the type of the signal </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_send_ref_signal">
<span class="target" id="libatomvmmailbox_8h_1a42369fa71952aec6d538e95bf0d8f732"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_send_ref_signal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MessageType</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span>, <span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n"><span class="pre">ref_ticks</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_send_ref_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Sends a ref signal to a certain mailbox. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process context. </p></li>
<li><p><strong>type</strong> – the type of the signal </p></li>
<li><p><strong>ref_ticks</strong> – the ref </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_send_term_signal">
<span class="target" id="libatomvmmailbox_8h_1ab9596ba060bee1c0d961c829dbe2fe90"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_send_term_signal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MessageType</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_send_term_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Sends a term-based signal to a certain mailbox. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process context. </p></li>
<li><p><strong>type</strong> – the type of the signal </p></li>
<li><p><strong>t</strong> – the term added to the message </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_size">
<span class="target" id="libatomvmmailbox_8h_1a19412a6f8824d916d1df4f91f3d85632"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_size</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_size" title="Link to this definition"></a><br /></dt>
<dd><p>Compute the mailbox size, in bytes. </p>
<p>To be called from the process only. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to get the size of. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.mailbox_take_message">
<span class="target" id="libatomvmmailbox_8h_1a98762ffd3b869971b9c2000ed2f9b088"></span><span class="n"><span class="pre">MailboxMessage</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mailbox_take_message</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Mailbox" title="Mailbox"><span class="n"><span class="pre">Mailbox</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mbox</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.mailbox_take_message" title="Link to this definition"></a><br /></dt>
<dd><p>Take next message from mailbox. </p>
<p>Remove the first message from the mailbox and return it. To be called from the process only. This function is intended for some corner cases, such as certain port drivers. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mbox</strong> – the mailbox to take the next message from. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_copy_term_tree">
<span class="target" id="libatomvmmemory_8h_1a4f2333ae6f2bceb4fb7c1effde5f648d"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_copy_term_tree</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">new_heap</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_copy_term_tree" title="Link to this definition"></a><br /></dt>
<dd><p>copies a term to a destination heap </p>
<p>deep copies a term to a destination heap, once finished old memory can be freed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_heap</strong> – the destination heap where terms will be copied. </p></li>
<li><p><strong>t</strong> – term to copy </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a new term that is stored on the new heap. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_copy_term_tree_to_storage">
<span class="target" id="libatomvmmemory_8h_1a6c3684abaa77ca5d5b07ba3960622b22"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_copy_term_tree_to_storage</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">storage</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap_end</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_copy_term_tree_to_storage" title="Link to this definition"></a><br /></dt>
<dd><p>copies a term to a storage, typically for mailbox messages </p>
<p>deep copies a term to a destination heap, once finished old memory can be freed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>storage</strong> – storage for the copied data, should be large enough </p></li>
<li><p><strong>heap_end</strong> – on output, pointer to the end of the term. </p></li>
<li><p><strong>t</strong> – term to copy </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a boxed term pointer to the new term content that is stored in the storage. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_destroy_heap">
<span class="target" id="libatomvmmemory_8h_1a6be1d019f3d975240ad75f863ad27379"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_destroy_heap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_destroy_heap" title="Link to this definition"></a><br /></dt>
<dd><p>Destroy a root heap. First sweep its mso list. </p>
<p>This function shall only be called from a scheduler thread (native handler or listener) because it decrements the reference count of refc binaries and may call resource destructors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – the heap to destroy </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_destroy_heap_fragment">
<span class="target" id="libatomvmmemory_8h_1ade74d76c3a55d11745f5221874ca847c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_destroy_heap_fragment</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">HeapFragment</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fragment</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_destroy_heap_fragment" title="Link to this definition"></a><br /></dt>
<dd><p>Destroy a chain of heap fragments. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fragment</strong> – fragment to destroy. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_destroy_heap_from_task">
<span class="target" id="libatomvmmemory_8h_1a8e80d162b0f8848a55206e71ec64bc4f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_destroy_heap_from_task</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_destroy_heap_from_task" title="Link to this definition"></a><br /></dt>
<dd><p>Destroy a root heap. First sweep its mso list. </p>
<p>This variant is safer and is meant for driver tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – the heap to destroy </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_ensure_free_opt">
<span class="target" id="libatomvmmemory_8h_1a8d4d6914011e91b774a9a7570417940c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MemoryGCResult</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_ensure_free_opt</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MemoryAllocMode</span></span><span class="w"> </span><span class="n"><span class="pre">alloc_mode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_ensure_free_opt" title="Link to this definition"></a><br /></dt>
<dd><p>makes sure that the given context has given free memory. </p>
<p>this function makes sure at least size terms are available. Optionally, it can shrink the heap to the specified size, depending on allocation strategy. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the target context. </p></li>
<li><p><strong>size</strong> – needed available memory. </p></li>
<li><p><strong>alloc_mode</strong> – constraint on allocation of additional memory </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_ensure_free_with_roots">
<span class="target" id="libatomvmmemory_8h_1ab1c63baf9bf2506407bcbb487536b0d5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MemoryGCResult</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_ensure_free_with_roots</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">num_roots</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">roots</span></span>, <span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MemoryAllocMode</span></span><span class="w"> </span><span class="n"><span class="pre">alloc_mode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_ensure_free_with_roots" title="Link to this definition"></a><br /></dt>
<dd><p>makes sure that the given context has given free memory. </p>
<p>this function makes sure at least size terms are available. Optionally, it can allocate a fragment or shrink the heap to the specified size, depending on allocation strategy. The function can also be passed roots to update during any garbage collection. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the target context. </p></li>
<li><p><strong>size</strong> – needed available memory. </p></li>
<li><p><strong>num_roots</strong> – number of roots </p></li>
<li><p><strong>roots</strong> – roots to preserve </p></li>
<li><p><strong>alloc_mode</strong> – constraint on allocation of additional memory </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_erl_nif_env_ensure_free">
<span class="target" id="libatomvmmemory_8h_1a691d603e669393202b0fa9b99c404437"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MemoryGCResult</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_erl_nif_env_ensure_free</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifEnv</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">env</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_erl_nif_env_ensure_free" title="Link to this definition"></a><br /></dt>
<dd><p>makes sure that the given nif environment has given free memory </p>
<p>this function makes sure that at least size terms are available. When not available, a new fragment will be allocated. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>env</strong> – the target environment. </p></li>
<li><p><strong>size</strong> – needed available memory. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_estimate_usage">
<span class="target" id="libatomvmmemory_8h_1af2ce659c9162754c8515fbd1b170fc9e"></span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_estimate_usage</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_estimate_usage" title="Link to this definition"></a><br /></dt>
<dd><p>calculates term memory usage </p>
<p>perform an used memory calculation using given term as root, shared memory (that is not part of the memory block) is not accounted. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – root term on which used memory calculation will be performed. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>used memory terms count in term units output parameter. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_heap_alloc">
<span class="target" id="libatomvmmemory_8h_1a76a217579d014230ba1103cefabd5971"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">memory_heap_alloc</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_heap_alloc" title="Link to this definition"></a><br /></dt>
<dd><p>allocates space for a certain amount of terms on the heap </p>
<p>allocates space for a certain amount of terms on the heap, GC will be performed when needed, any existing term might be invalid after this call. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – heap to initialize. </p></li>
<li><p><strong>size</strong> – the amount of terms that will be allocated. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a pointer to the newly allocated memory block. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_heap_append_fragment">
<span class="target" id="libatomvmmemory_8h_1ac3585e49af06865398260c71ac8dead3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_heap_append_fragment</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <span class="n"><span class="pre">HeapFragment</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fragment</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">mso_list</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_heap_append_fragment" title="Link to this definition"></a><br /></dt>
<dd><p>append a fragment to a heap. The MSO list is merged. The fragment will then be owned by the heap. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – the heap to append the fragment to </p></li>
<li><p><strong>fragment</strong> – the fragment to add </p></li>
<li><p><strong>mso_list</strong> – associated mso list or nil </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_heap_append_heap">
<span class="target" id="libatomvmmemory_8h_1a9948be973990822a05e6faa6d1d2de3a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_heap_append_heap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">target</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">source</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_heap_append_heap" title="Link to this definition"></a><br /></dt>
<dd><p>append a heap to another heap. The MSO list is merged. The fragments of the source heap will be owned by the target heap. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target</strong> – the heap to append the heap’s fragments to </p></li>
<li><p><strong>source</strong> – the heap to add </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_heap_fragment_memory_size">
<span class="target" id="libatomvmmemory_8h_1a4f911891bc8a45ef8d2d14ff9da4f4e7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_heap_fragment_memory_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">HeapFragment</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fragment</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_heap_fragment_memory_size" title="Link to this definition"></a><br /></dt>
<dd><p>return the total memory size of a heap fragment and its children. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fragment</strong> – the root fragment to get the size of </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the size in terms </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_heap_trim">
<span class="target" id="libatomvmmemory_8h_1ae5220e2172c972f217c30aee483cfb1c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_heap_trim</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_heap_trim" title="Link to this definition"></a><br /></dt>
<dd><p>shrinks the heap by size units </p>
<p>this function is used when resizing the last item allocated on the heap. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – the heap that will be shrinked </p></li>
<li><p><strong>size</strong> – the number of terms that will be removed </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_heap_youngest_size">
<span class="target" id="libatomvmmemory_8h_1a6019397e16f32cc31520c0fe0fc43b90"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_heap_youngest_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_heap_youngest_size" title="Link to this definition"></a><br /></dt>
<dd><p>return the size of the youngest generation of the heap. </p>
<p>in some condition, this function returns the size of a fragment where the stack is not. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – the heap to get the youngest size of </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the size in terms </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_heap_memory_size">
<span class="target" id="libatomvmmemory_8h_1aab51840a661674f77e48788465c1fc2d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_heap_memory_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_heap_memory_size" title="Link to this definition"></a><br /></dt>
<dd><p>return the total memory size of a heap, including fragments. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – the heap to get the size of </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the size in terms </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_init_heap">
<span class="target" id="libatomvmmemory_8h_1aa34223a2c1aa426b283afb1e2461414a"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="n"><span class="pre">MemoryGCResult</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_init_heap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_init_heap" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize a root heap. </p>
<p>This function should be balanced with <code class="docutils literal notranslate"><span class="pre">memory_destroy_heap</span></code> or <code class="docutils literal notranslate"><span class="pre">memory_destroy_heap_from_task</span></code> if the heap is created by a driver task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – heap to initialize. </p></li>
<li><p><strong>size</strong> – capacity of the heap to create, not including the mso_list. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MEMORY_GC_OK or MEMORY_GC_ERROR_FAILED_ALLOCATION depending on the outcome. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_init_heap_root_fragment">
<span class="target" id="libatomvmmemory_8h_1aed7cb8e677736e46afa7fe2ef4313658"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_init_heap_root_fragment</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <span class="n"><span class="pre">HeapFragment</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">root</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_init_heap_root_fragment" title="Link to this definition"></a><br /></dt>
<dd><p>Setup heap from its root. Set the <code class="docutils literal notranslate"><span class="pre">mso_list</span></code> to NIL and initialize <code class="docutils literal notranslate"><span class="pre">heap_ptr</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>heap</strong> – heap to initialize. </p></li>
<li><p><strong>root</strong> – fragment root. </p></li>
<li><p><strong>size</strong> – capacity of the heap to create, not including the mso_list. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.memory_sweep_mso_list">
<span class="target" id="libatomvmmemory_8h_1af565e796d744e507378935dfad5b89f1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_sweep_mso_list</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">mso_list</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">from_task</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.memory_sweep_mso_list" title="Link to this definition"></a><br /></dt>
<dd><p>Sweep any unreferenced binaries in the “Mark Sweep Object” (MSO) list. </p>
<p>The MSO list is a list of term (references) in a heap. Currently, the elements of this list are referenced to reference-counted binaries or match binaries that themselves reference reference counted binaries. This function will iterate over the binaries in this list, and decrement the reference count of any elements that have not been marked for move (e.g., into a new heap). If the reference count reaches 0, then memory associated with the referenced binary will be freed.In a typical GC event, the terms in this list are within in the old heap or potentially in a heap fragment. However, this function may be called in a copy even, such as in a process spawn, or in the copy of a term to or from a process mailbox. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mso_list</strong> – the list of mark-sweep object in a heap “space” </p></li>
<li><p><strong>global</strong> – the global context </p></li>
<li><p><strong>from_task</strong> – boolean, true if called from a task, false otherwise </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “module_get_atom_string_by_id” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_get_atom_term_by_id">
<span class="target" id="libatomvmmodule_8h_1adffdc5005d36cedd4590d210a85e454a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_get_atom_term_by_id</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mod</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">local_atom_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_get_atom_term_by_id" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a term for the given local atom id. </p>
<p>Gets the global atom id for the the given local atom id and casts it to a term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mod</strong> – the module that owns the atom. </p></li>
<li><p><strong>local_atom_id</strong> – module atom table index. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term for the given module atom index. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_get_exported_functions">
<span class="target" id="libatomvmmodule_8h_1a15620c976b414b9a99940a982a89d06d"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_get_exported_functions</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">this_module</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_get_exported_functions" title="Link to this definition"></a><br /></dt>
<dd><p>Get the list of exported functions. </p>
<p>Create a list of exported functions of the form <code class="docutils literal notranslate"><span class="pre">{FunctionName,</span> <span class="pre">Arity}</span></code> To create this list, the heap must be grown by <code class="docutils literal notranslate"><span class="pre">module_get_exported_functions_list_size</span></code> terms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_module</strong> – the module to count exported functions of </p></li>
<li><p><strong>heap</strong> – heap to allocate tuples </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list of exported functions </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_get_exported_functions_count">
<span class="target" id="libatomvmmodule_8h_1a7db6bdf217b327974a3cad83284794cc"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_get_exported_functions_count</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">this_module</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_get_exported_functions_count" title="Link to this definition"></a><br /></dt>
<dd><p>Count exported functions of a given module. </p>
<p>Get the number of exported functions. This function is used to compute the required heap size of the list of exported functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_module</strong> – the module to count exported functions of </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of exported functions </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_get_exported_functions_list_size">
<span class="target" id="libatomvmmodule_8h_1ae74d297845a55868e3178408706560ba"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_get_exported_functions_list_size</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">this_module</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_get_exported_functions_list_size" title="Link to this definition"></a><br /></dt>
<dd><p>Determine heap size of exported functions list. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_module</strong> – the module to count exported functions of </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the size, in terms, of the exported function list </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_get_name">
<span class="target" id="libatomvmmodule_8h_1a814487d36f176c222d2778f6bc461bc0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_get_name</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mod</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_get_name" title="Link to this definition"></a><br /></dt>
<dd><p>Get the module name, as an atom term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mod</strong> – the module to get the name of </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term for the given module atom index. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_has_line_chunk">
<span class="target" id="libatomvmmodule_8h_1a5bb89e4b85a6f27ebf50d30530a71fd7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_has_line_chunk</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mod</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_has_line_chunk" title="Link to this definition"></a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>true if the module has line information, false, otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_load_literal">
<span class="target" id="libatomvmmodule_8h_1ac8021970832fc9bc6d3e4471153ad663"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_load_literal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mod</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">index</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_load_literal" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a literal stored on the literal table of the specified module. </p>
<p>Loads and deserialize a term stored in the literal table and returns a term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mod</strong> – The module that owns that is going to be loaded. </p></li>
<li><p><strong>index</strong> – a valid literal index. </p></li>
<li><p><strong>ctx</strong> – the target context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_new_from_iff_binary">
<span class="target" id="libatomvmmodule_8h_1a9a11935d7865270ae21850227728d5d6"></span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">module_new_from_iff_binary</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">iff_binary</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_new_from_iff_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Parse a BEAM file and returns a <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_module"><span class="std std-ref">Module</span></a>. </p>
<p>Parse a BEAM file a returns a newly allocated and initialized <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_module"><span class="std std-ref">Module</span></a> struct. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
<li><p><strong>iff_binary</strong> – the IFF file data. </p></li>
<li><p><strong>size</strong> – the size of the buffer containing the IFF data. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_resolve_function">
<span class="target" id="libatomvmmodule_8h_1a344914f1ad716d10ed700f17bcdc1de6"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ExportedFunction</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">module_resolve_function</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mod</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">import_table_index</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_resolve_function" title="Link to this definition"></a><br /></dt>
<dd><p>Resolves an unresolved function reference. </p>
<p>Resolves an unresolved function reference and it replaces the unresolved reference with a <a class="reference internal" href="src/exportedfunction.h.html#libatomvmstruct_module_function"><span class="std std-ref">ModuleFunction</span></a> struct, also it loads the referenced module if it hasn’t been loaded yet. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mod</strong> – the module containing the function to resolve. </p></li>
<li><p><strong>import_table_index</strong> – the unresolved function index. </p></li>
<li><p><strong>glb</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.module_search_exported_function">
<span class="target" id="libatomvmmodule_8h_1aa11fe71ce2d012748aff8015c3cbac91"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">module_search_exported_function</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Module" title="Module"><span class="n"><span class="pre">Module</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">this_module</span></span>, <span class="n"><span class="pre">atom_index_t</span></span><span class="w"> </span><span class="n"><span class="pre">func_name</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">func_arity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.module_search_exported_function" title="Link to this definition"></a><br /></dt>
<dd><p>Gets exported function index by searching it by function name and arity. </p>
<p>Gets exported function index by searching it by function name and arity </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_module</strong> – the module on which the function will be searched. </p></li>
<li><p><strong>func_name</strong> – function name atom string. </p></li>
<li><p><strong>func_arity</strong> – function arity. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.otp_socket_lwip_enqueue">
<span class="target" id="libatomvmotp__socket_8h_1ab1a1367216e9b10ee8633e606368ec4d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">otp_socket_lwip_enqueue</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">LWIPEvent</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.otp_socket_lwip_enqueue" title="Link to this definition"></a><br /></dt>
<dd><p>Enqueue an event to be processed in task context. </p>
<p>
This function must be implemented in otp_socket_platform.c. Platforms using lwIP implementation may have lwIP callbacks coming from ISR and in such case need to implement a queue mechanism to process them in task context. <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_global_context"><span class="std std-ref">GlobalContext</span></a> is not always available in lwIP callbacks so platforms using a queue need a global variable. If lwIP callbacks are not called from ISR, calling handler with the event is sufficient. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – the event to enqueue</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.platform_nifs_get_nif">
<span class="target" id="libatomvmplatform__nifs_8h_1abea454d7779aa92c36a8046848540319"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">Nif</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">platform_nifs_get_nif</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">nifname</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.platform_nifs_get_nif" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the <a class="reference internal" href="src/exportedfunction.h.html#libatomvmstruct_nif"><span class="std std-ref">Nif</span></a> assocatiated with a nif name. </p>
<p>This function is used to locate platform-specific Nifs. Each platform must include an implementation of this function, even if it just returns NULL. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nifname</strong> – a null-terminated module:function/arity name </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the <a class="reference internal" href="src/exportedfunction.h.html#libatomvmstruct_nif"><span class="std std-ref">Nif</span></a> structure associated with the supplied nif name, or NULL, if there is no such <a class="reference internal" href="src/exportedfunction.h.html#libatomvmstruct_nif"><span class="std std-ref">Nif</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.posix_errno_to_term">
<span class="target" id="libatomvmposix__nifs_8h_1a448c8f84474e9544446b12ca6eaab137"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posix_errno_to_term</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">err</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.posix_errno_to_term" title="Link to this definition"></a><br /></dt>
<dd><p>Convenient function to return posix errors as atom. </p>
<p>POSIX does not define the values of errno errors, so this function makes sure Erlang code can interpret error codes whatever the platform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>err</strong> – the error code, typically obtained from <code class="docutils literal notranslate"><span class="pre">errno(3)</span></code></p></li>
<li><p><strong>glb</strong> – the global context </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an atom representing the error or an integer if the error number is not known. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.process_listener_handler">
<span class="target" id="libatomvmlisteners_8h_1aace2880233685294cb690aa6d4607831"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">process_listener_handler</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">listener_event_t</span></span><span class="w"> </span><span class="n"><span class="pre">current_event</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ListHead</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">listeners</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ListHead</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">item_ptr</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ListHead</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">previous_ptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.process_listener_handler" title="Link to this definition"></a><br /></dt>
<dd><p>Process listener handlers, optionally in advancing order, especially useful with poll(2) which returns fd in the provided order. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context </p></li>
<li><p><strong>current_event</strong> – the selected event </p></li>
<li><p><strong>listeners</strong> – the list of listeners (locked for writing) </p></li>
<li><p><strong>item_ptr</strong> – the current cursor or NULL to search in items </p></li>
<li><p><strong>previous_ptr</strong> – the previous cursor (ignored and can be NULL if item_ptr is NULL). </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if the current_event was found </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.refc_binary_create_refc">
<span class="target" id="libatomvmrefc__binary_8h_1a365432b31ed5202f2c3f5532447b70fc"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">refc_binary_create_refc</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.refc_binary_create_refc" title="Link to this definition"></a><br /></dt>
<dd><p>Create a reference-counted binary outside of the process heap. </p>
<p>This function will create a reference-counted binary outside of the context heap. A blob will be allocated in the VM memory (e.g., via malloc). The allocated data will include an internal data structure that includes the data size and reference count. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – the size of the data to create </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a pointer to the out-of-context data. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.refc_binary_create_resource">
<span class="target" id="libatomvmrefc__binary_8h_1abd823b02dd6a322b5d7d33f21c79a9a8"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">refc_binary_create_resource</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ResourceType</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">resource_type</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.refc_binary_create_resource" title="Link to this definition"></a><br /></dt>
<dd><p>Create a reference-counted resource object outside of the process heap. </p>
<p>This function will create a reference-counted resource object outside of the context heap. A blob will be allocated in the VM memory (e.g., via malloc). The allocated data will include an internal data structure that includes the data size and reference count. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – the size of the data to create </p></li>
<li><p><strong>resource_type</strong> – the resource type, <code class="docutils literal notranslate"><span class="pre">NULL</span></code> for regular refc binaries. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a pointer to the out-of-context data. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.refc_binary_decrement_refcount">
<span class="target" id="libatomvmrefc__binary_8h_1ae0781e0a7a24309b91a58551f09bdcce"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">refc_binary_decrement_refcount</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.refc_binary_decrement_refcount" title="Link to this definition"></a><br /></dt>
<dd><p>Decrement the reference count on the refc binary. </p>
<p>This function will call <code class="docutils literal notranslate"><span class="pre">refc_binary_destroy</span></code> if the reference count reaches 0. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ptr</strong> – the refc binary </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if the refc binary was free’d; false, otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.refc_binary_destroy">
<span class="target" id="libatomvmrefc__binary_8h_1a69400b3b349f1d470ae3a66cad4c2a0f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">refc_binary_destroy</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">refc</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.refc_binary_destroy" title="Link to this definition"></a><br /></dt>
<dd><p>Destroy a refc binary after its reference count reached 0. </p>
<p>This function will call the destructor if the refc binary is a resource and will free the refc binary. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>refc</strong> – the binary to destroy </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.refc_binary_from_data">
<span class="target" id="libatomvmrefc__binary_8h_1aa0af58de2e51890dbfeeb9f1e24d8c09"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">refc_binary_from_data</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.refc_binary_from_data" title="Link to this definition"></a><br /></dt>
<dd><p>get the refc binary from its pointer </p>
<p>This must only be passed the result of <code class="docutils literal notranslate"><span class="pre">refc_binary_get_data</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ptr</strong> – pointer obtained from <code class="docutils literal notranslate"><span class="pre">refc_binary_get_data</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.refc_binary_get_data">
<span class="target" id="libatomvmrefc__binary_8h_1a9a2912f1abc38337e59b6fa24fc19143"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">refc_binary_get_data</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.refc_binary_get_data" title="Link to this definition"></a><br /></dt>
<dd><p>get the data of the off-context binary </p>
<p>Return the data of the off-context binary </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ptr</strong> – Refc binary returned from memory_create_refc_binary </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.refc_binary_increment_refcount">
<span class="target" id="libatomvmrefc__binary_8h_1a0b7b1ec5eb3ef8a44dce8b8b9a776c33"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">refc_binary_increment_refcount</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.refc_binary_increment_refcount" title="Link to this definition"></a><br /></dt>
<dd><p>Increment the reference count on the refc binary. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ptr</strong> – the refc binary </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.refc_binary_total_size">
<span class="target" id="libatomvmrefc__binary_8h_1afe6d254b27cb8e50fae8a4a44b2c34a1"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">refc_binary_total_size</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.refc_binary_total_size" title="Link to this definition"></a><br /></dt>
<dd><p>Return the total size (in bytes) of all reference counted binaries. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the total size (in bytes) of all reference counted binaries </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.reg_type_c">
<span class="target" id="libatomvmdebug_8h_1a56898cebf6cebfc13a2fd20afe48b565"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reg_type_c</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">reg_type</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.reg_type_c" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a printable char for a given register type. </p>
<p>Returns a printable char such as x or y for the given register type. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reg_type</strong> – register type. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>printable register type. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scan_iff">
<span class="target" id="libatomvmiff_8h_1a8572b317be35568e5f987b99d3bd22ac"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scan_iff</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">iff_binary</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">file_size</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">offsets</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sizes</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scan_iff" title="Link to this definition"></a><br /></dt>
<dd><p>parse a BEAM/IFF file and build a sections offsets table </p>
<p>Read a buffer containing a BEAM module file and set all found IFF sections into offsets array. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iff_binary</strong> – is BEAM module data. </p></li>
<li><p><strong>file_size</strong> – is the BEAM module size in bytes. </p></li>
<li><p><strong>offsets</strong> – all the relative offsets, each entry will be set to the offset of a different IFF section. </p></li>
<li><p><strong>sizes</strong> – the computed sections sizes. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_init_ready">
<span class="target" id="libatomvmscheduler_8h_1afe8988a72f459c211456c4bd5525ea52"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_init_ready</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_init_ready" title="Link to this definition"></a><br /></dt>
<dd><p>Init a process in the ready state, moving it to the scheduler queue. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_kill">
<span class="target" id="libatomvmscheduler_8h_1afbdef03adac82bab7dbad95d00478fdf"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_kill</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_kill" title="Link to this definition"></a><br /></dt>
<dd><p>Signal a process that it was killed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the process context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_next">
<span class="target" id="libatomvmscheduler_8h_1aa1369fe1ce52c303fffad64ef8a92470"></span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_next</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_next" title="Link to this definition"></a><br /></dt>
<dd><p>gets next runnable process from the ready queue. </p>
<p>gets next runnable process from the ready queue, it may return current process if there isn’t any other runnable process. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
<li><p><strong>c</strong> – the current process. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>runnable process. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_run">
<span class="target" id="libatomvmscheduler_8h_1ab457198254e11c5b1ab1755ed8bf8f80"></span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_run</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_run" title="Link to this definition"></a><br /></dt>
<dd><p>run the scheduler and return a process to be executed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_set_timeout">
<span class="target" id="libatomvmscheduler_8h_1a313953b6206191ae5f839fd5710012d8"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_set_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">avm_int64_t</span></span><span class="w"> </span><span class="n"><span class="pre">timeout</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_set_timeout" title="Link to this definition"></a><br /></dt>
<dd><p>sets context timeout </p>
<p>set context timeout timestamp, move context to wait queue and update global next timeout timestamp. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the context that will be put on sleep </p></li>
<li><p><strong>timeout</strong> – amount of time to be waited in milliseconds. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_signal_message">
<span class="target" id="libatomvmscheduler_8h_1a37de952710013ff981e38441b36fbc81"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_signal_message</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_signal_message" title="Link to this definition"></a><br /></dt>
<dd><p>Signal a process that a message was inserted in the mailbox. </p>
<p>Cannot be called from a foreign task or from ISR.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_stop_all">
<span class="target" id="libatomvmscheduler_8h_1a910f89e4e6e54688cb59b18002bd3bef"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_stop_all</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_stop_all" title="Link to this definition"></a><br /></dt>
<dd><p>Terminate all schedulers. Every process is terminated gracefully at next scheduling point. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_terminate">
<span class="target" id="libatomvmscheduler_8h_1a919e27f9a5e019f3b4502a484dc7e04e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_terminate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_terminate" title="Link to this definition"></a><br /></dt>
<dd><p>removes a process and terminates it from the scheduling queue </p>
<p>removes a process from the scheduling ready queue and destroys it if its not a leader process. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process that is going to be terminated. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.scheduler_wait">
<span class="target" id="libatomvmscheduler_8h_1a243902bba75435498ae10d95b86e3bb8"></span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">scheduler_wait</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">c</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.scheduler_wait" title="Link to this definition"></a><br /></dt>
<dd><p>move a process to waiting queue and wait a ready one </p>
<p>move current process to the waiting queue, and schedule the next one or sleep until an event is received. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> – the process context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.select_event_count_and_destroy_closed">
<span class="target" id="libatomvmresources_8h_1ac6c3a677804facf137a8b83b59a25f29"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">select_event_count_and_destroy_closed</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ListHead</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">select_events</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">read</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">write</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">either</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.select_event_count_and_destroy_closed" title="Link to this definition"></a><br /></dt>
<dd><p>Count events available for reading and/or writing and destroy the events marked for close. </p>
<p>Convenience function that can be called by <code class="docutils literal notranslate"><span class="pre">sys_poll_events</span></code> and iterates on events to be closed and count them.</p>
<p>The function can also be called from a select task loop if <code class="docutils literal notranslate"><span class="pre">AVM_SELECT_IN_TASK</span></code> is defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>select_events</strong> – list of events, with a write lock </p></li>
<li><p><strong>read</strong> – on output number of events with read = 1, can be NULL </p></li>
<li><p><strong>write</strong> – on output number of events with write = 1, can be NULL </p></li>
<li><p><strong>either</strong> – on output number of events with either read = 1 or write = 1, can be NULL </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.select_event_make_notification">
<span class="target" id="libatomvmresources_8h_1a5919ca9372c92b67aba98ad50db2e43c"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">select_event_make_notification</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">rsrc_obj</span></span>, <span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n"><span class="pre">ref_ticks</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">is_write</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.select_event_make_notification" title="Link to this definition"></a><br /></dt>
<dd><p>Build a select event notification. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rsrc_obj</strong> – the resource to build the notification for </p></li>
<li><p><strong>ref_ticks</strong> – the reference or 0 if it’s undefined </p></li>
<li><p><strong>is_write</strong> – if the notification is for a write or a read </p></li>
<li><p><strong>heap</strong> – the heap to create the notification in, should have enough memory available (see SELECT_EVENT_NOTIFICATION_SIZE) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.select_event_notify">
<span class="target" id="libatomvmresources_8h_1aaa6d0600c80747e71975bdc8e215b795"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">select_event_notify</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ErlNifEvent</span></span><span class="w"> </span><span class="n"><span class="pre">event</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">is_read</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">is_write</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.select_event_notify" title="Link to this definition"></a><br /></dt>
<dd><p>Send a notification that an event was selected. </p>
<p>This function is called from sys_poll_events platform function if a select event was selected and the read or write flag was set. It modifies the select_event object so the notification is only sent once.</p>
<p>The function can also be called from a select task loop if <code class="docutils literal notranslate"><span class="pre">AVM_SELECT_IN_TASK</span></code> is defined.</p>
<p>It is not an error to call this function with an event that is not in the list.</p>
<p>This function calls <code class="docutils literal notranslate"><span class="pre">sys_unregister_select_event</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – the event to notify </p></li>
<li><p><strong>is_read</strong> – if the event was selected for reading </p></li>
<li><p><strong>is_write</strong> – if the event was selected for writing </p></li>
<li><p><strong>global</strong> – the global context </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if the event was found </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_condvar_create">
<span class="target" id="libatomvmsmp_8h_1af129de4e20b03f86c1ec34808b900903"></span><span class="n"><span class="pre">CondVar</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">smp_condvar_create</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_condvar_create" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new condition variable. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a pointer to a cv. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_condvar_destroy">
<span class="target" id="libatomvmsmp_8h_1a0595df4052832edee3d198dad3b2b865"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_condvar_destroy</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">CondVar</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_condvar_destroy" title="Link to this definition"></a><br /></dt>
<dd><p>Destroy a condition variable. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cv</strong> – variable to destroy. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_condvar_signal">
<span class="target" id="libatomvmsmp_8h_1a0011cbadfa0c3b2026600199f7c8de53"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_condvar_signal</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">CondVar</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cv</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_condvar_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Signal a single thread waiting on a condition variable. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cv</strong> – variable to signal. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_condvar_wait">
<span class="target" id="libatomvmsmp_8h_1abf6ed8c84739901bb5cab8c795b28a9c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_condvar_wait</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">CondVar</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">cv</span></span>, <span class="n"><span class="pre">Mutex</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mtx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_condvar_wait" title="Link to this definition"></a><br /></dt>
<dd><p>Wait on a condition variable, atomically unlocking the mutex. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cv</strong> – variable to wait on. </p></li>
<li><p><strong>mtx</strong> – mutex to unlock/lock. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_get_online_processors">
<span class="target" id="libatomvmsmp_8h_1a4dd1f8aebcf823780d855172ed4b5b05"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_get_online_processors</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_get_online_processors" title="Link to this definition"></a><br /></dt>
<dd><p>Get the number of online processors to configure schedulers. </p>
<p>This value is one plus the maximum number of times smp_scheduler_start will be called by the scheduler. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the number of online processors. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_is_main_thread">
<span class="target" id="libatomvmsmp_8h_1a5300e69694e534fa120d565895573865"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_is_main_thread</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_is_main_thread" title="Link to this definition"></a><br /></dt>
<dd><p>Determine if caller is in the main thread, i.e. thread that was not started with acmsmp_scheduler_start. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_mutex_create">
<span class="target" id="libatomvmsmp_8h_1a658eaf804804db8833296f5194b0b457"></span><span class="n"><span class="pre">Mutex</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">smp_mutex_create</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_mutex_create" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new mutex. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a pointer to a mutex. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_mutex_destroy">
<span class="target" id="libatomvmsmp_8h_1aa84af997d438de69613f5bc2746e8cb3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_mutex_destroy</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mutex</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mtx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_mutex_destroy" title="Link to this definition"></a><br /></dt>
<dd><p>Destroy a mutex. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mtx</strong> – the mutex to destroy </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_mutex_lock">
<span class="target" id="libatomvmsmp_8h_1a8a2470cfa0769804f5d7c68148348cfc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_mutex_lock</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mutex</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mtx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_mutex_lock" title="Link to this definition"></a><br /></dt>
<dd><p>Lock a mutex. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mtx</strong> – the mutex to lock </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_mutex_trylock">
<span class="target" id="libatomvmsmp_8h_1a111fa7ef69bc26119b5fb7335324ad7a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_mutex_trylock</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mutex</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mtx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_mutex_trylock" title="Link to this definition"></a><br /></dt>
<dd><p>Try and lock a mutex. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mtx</strong> – the mutex to lock </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the mutex was acquired. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_mutex_unlock">
<span class="target" id="libatomvmsmp_8h_1a9f1fd5cd7608418fdd41bcbbc0634b05"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_mutex_unlock</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mutex</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">mtx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_mutex_unlock" title="Link to this definition"></a><br /></dt>
<dd><p>Unlock a mutex. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mtx</strong> – the mutex to unlock </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_rwlock_create">
<span class="target" id="libatomvmsmp_8h_1a1307a5e19a43facb3a95f4f5a29a0122"></span><span class="n"><span class="pre">RWLock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">smp_rwlock_create</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_rwlock_create" title="Link to this definition"></a><br /></dt>
<dd><p>Create a new rwlock. </p>
<p>A RW Lock can be replaced by a mutex if RW Lock are not available on the platform. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a pointer to a lock. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_rwlock_destroy">
<span class="target" id="libatomvmsmp_8h_1a00694a93dab211dff91d8f8de6238568"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_rwlock_destroy</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">RWLock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">lock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_rwlock_destroy" title="Link to this definition"></a><br /></dt>
<dd><p>Destroy a rwlock. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lock</strong> – the lock to destroy </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_rwlock_rdlock">
<span class="target" id="libatomvmsmp_8h_1a536c93df7bdcd2f1f6328dbe41c7106d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_rwlock_rdlock</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">RWLock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">lock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_rwlock_rdlock" title="Link to this definition"></a><br /></dt>
<dd><p>Read lock a rwlock. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lock</strong> – the lock to read lock </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_rwlock_unlock">
<span class="target" id="libatomvmsmp_8h_1a9bd3aaa698e550b327f6ab9c84cd783f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_rwlock_unlock</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">RWLock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">lock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_rwlock_unlock" title="Link to this definition"></a><br /></dt>
<dd><p>Unlock a rwlock. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lock</strong> – the lock to unlock </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_rwlock_wrlock">
<span class="target" id="libatomvmsmp_8h_1ab6f00241960e538e710232ab5a6cef72"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_rwlock_wrlock</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">RWLock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">lock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_rwlock_wrlock" title="Link to this definition"></a><br /></dt>
<dd><p>Write lock a rwlock. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lock</strong> – the lock to write lock </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_scheduler_start">
<span class="target" id="libatomvmsmp_8h_1aded542823dfa49bfa14d2797edeba1cf"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_scheduler_start</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_scheduler_start" title="Link to this definition"></a><br /></dt>
<dd><p>Start a new scheduler, calling <code class="docutils literal notranslate"><span class="pre">scheduler_entry_point</span></code> with the given global context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_spinlock_init">
<span class="target" id="libatomvmsmp_8h_1a7b8ff0716283794a4b405e7ca3fbe511"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_spinlock_init</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SpinLock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">lock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_spinlock_init" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize a spinlock based on atomics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lock</strong> – the spin lock to initialize </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_spinlock_lock">
<span class="target" id="libatomvmsmp_8h_1a827add7dfb5130ad7cdcfc106b0fc22b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_spinlock_lock</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SpinLock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">lock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_spinlock_lock" title="Link to this definition"></a><br /></dt>
<dd><p>Lock a spinlock. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lock</strong> – the spin lock to lock </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.smp_spinlock_unlock">
<span class="target" id="libatomvmsmp_8h_1a2e4b96443323a4ff47233a3e133dd0e6"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">smp_spinlock_unlock</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SpinLock</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">lock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.smp_spinlock_unlock" title="Link to this definition"></a><br /></dt>
<dd><p>Unlock a spinlock. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lock</strong> – the spin lock to unlock </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.socket_recv">
<span class="target" id="libatomvmotp__socket_8h_1ad3aaa3d1743b316c9cac57b50fbf375b"></span><span class="n"><span class="pre">ssize_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">socket_recv</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">SocketResource</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">socket</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">from</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.socket_recv" title="Link to this definition"></a><br /></dt>
<dd><p>Read data from a socket. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket</strong> – the socket resource </p></li>
<li><p><strong>buf</strong> – buffer to store data </p></li>
<li><p><strong>len</strong> – number of bytes </p></li>
<li><p><strong>flags</strong> – flags passed to recvfrom </p></li>
<li><p><strong>from</strong> – filled with origin address using recvfrom (can be NULL) </p></li>
<li><p><strong>heap</strong> – heap to build the origin address term (can be NULL if from is NULL) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of read bytes or a value from SocketErrors </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.socket_send">
<span class="target" id="libatomvmotp__socket_8h_1a57240b1ef53dc763965393a57e85f701"></span><span class="n"><span class="pre">ssize_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">socket_send</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">SocketResource</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">socket</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.socket_send" title="Link to this definition"></a><br /></dt>
<dd><p>Send data to a socket (without blocking) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket</strong> – the socket resource </p></li>
<li><p><strong>buf</strong> – buffer to send </p></li>
<li><p><strong>len</strong> – number of bytes </p></li>
<li><p><strong>dest</strong> – destination address or invalid term for sendto/send </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of written bytes or a value from SocketErrors </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_create_port">
<span class="target" id="libatomvmsys_8h_1a3636cbb632253e6146bd3c57c5fd30c1"></span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">sys_create_port</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">driver_name</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">opts</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_create_port" title="Link to this definition"></a><br /></dt>
<dd><p>Create a port driver. </p>
<p>This function creates a port driver, encapsulated in a <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a> object. This function should create a <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a> object through the supplied global context, which will assume ownership of the new instance. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>driver_name</strong> – the name of the driver that will control the port. </p></li>
<li><p><strong>opts</strong> – the term options passed into the port open command. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a new <a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_context"><span class="std std-ref">Context</span></a> instance, or NULL, if a driver cannot be created from the inputs. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_free_platform">
<span class="target" id="libatomvmsys_8h_1a0f279c47141788bebc349721bea68fdb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_free_platform</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_free_platform" title="Link to this definition"></a><br /></dt>
<dd><p>Free the platform data structure. </p>
<p>Cleanup the platform data structure. Called by global_context_destroy. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_get_info">
<span class="target" id="libatomvmsys_8h_1a0ba0d315b0fd073464228451df3db80e"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_get_info</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">key</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_get_info" title="Link to this definition"></a><br /></dt>
<dd><p>Get platform-dependent information for the specified key. </p>
<p>This function returns platform-dependent information specified by the supplied key. If not information is available for the specified key, this function should return the atom ‘undefined’ </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – the current context </p></li>
<li><p><strong>key</strong> – an atom used to indicate the type of information requested. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term containing the requested information, or the atom undefined, if there is no system information for the specified key. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_init_platform">
<span class="target" id="libatomvmsys_8h_1a61111673aa3ce5d3a6fb6c8b2c8e2f60"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_init_platform</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_init_platform" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize the platform, setting global-&gt;platform_data. </p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_listener_destroy">
<span class="target" id="libatomvmsys_8h_1aa964190388e51e054170f047ea7ab076"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_listener_destroy</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">ListHead</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">item</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_listener_destroy" title="Link to this definition"></a><br /></dt>
<dd><p>Free a listener. </p>
<p>This function is called when the global context is destroyed on every remaining listener. An implementation is available in <code class="docutils literal notranslate"><span class="pre">listeners.h</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> – list item </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “sys_load_module” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_monotonic_time">
<span class="target" id="libatomvmsys_8h_1a55b857f3c7de74a921d9bf4584f36867"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_monotonic_time</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">timespec</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_monotonic_time" title="Link to this definition"></a><br /></dt>
<dd><p>gets monotonic time </p>
<p>gets the time that is used by <code class="docutils literal notranslate"><span class="pre">erlang:monotonic_time/1</span></code> </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the timespec that will be updated. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_monotonic_time_ms_to_u64">
<span class="target" id="libatomvmsys_8h_1ab14bbc97773835c2d8b613ba025f8db8"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_monotonic_time_ms_to_u64</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n"><span class="pre">ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_monotonic_time_ms_to_u64" title="Link to this definition"></a><br /></dt>
<dd><p>convert a number of milliseconds to system-chosen unit </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ms</strong> – the number of milliseconds to convert </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the result of the conversion </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_monotonic_time_u64">
<span class="target" id="libatomvmsys_8h_1af6d375210257337961e85475c45c1516"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_monotonic_time_u64</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_monotonic_time_u64" title="Link to this definition"></a><br /></dt>
<dd><p>gets monotonic time for timers </p>
<p>This function must return a non-overflowing counter in the highest precision the platform permits to make sure that we don’t have truncation errors when compared with sys_time or sys_monotonic_time. Returning the number of microseconds or nanoseconds since boot would work.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a monotonic time in a system-chosen unit </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_monotonic_time_u64_to_ms">
<span class="target" id="libatomvmsys_8h_1a61aceb5e055c2e25e3cfaaba93416198"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_monotonic_time_u64_to_ms</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_monotonic_time_u64_to_ms" title="Link to this definition"></a><br /></dt>
<dd><p>convert a number in system-chosen unit to milliseconds </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the number to convert </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the result of the conversion </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_poll_events">
<span class="target" id="libatomvmsys_8h_1a08afcd2c2575b364a30426ea0062b0e4"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_poll_events</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_poll_events" title="Link to this definition"></a><br /></dt>
<dd><p>Poll events (from drivers and select events), with a timeout (in ms), or until <code class="docutils literal notranslate"><span class="pre">sys_signal</span></code> is called. </p>
<p>Depending on platforms, check all open file descriptors/queues and call drivers that should send messages to contexts (which will unblock them). With SMP builds, this function can be called from any scheduler.</p>
<p>If selectable events are supported on the platform, this function should also:<ul class="simple">
<li><p>call <code class="docutils literal notranslate"><span class="pre">select_event_destroy</span></code> on select events that have close set to 1</p></li>
<li><p>include the set of ErlNifEvent that are marked for read or write in the select set, and if they are selected, call <code class="docutils literal notranslate"><span class="pre">select_event_notify</span></code> to send the notification.</p></li>
</ul>
</p>
<p><code class="docutils literal notranslate"><span class="pre">select_event_count_and_destroy_closed</span></code> defined in resources.h can be used to process closed select events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>timeout_ms</strong> – the number of ms to wait, <code class="docutils literal notranslate"><span class="pre">SYS_POLL_EVENTS_WAIT_FOREVER</span></code> to wait forever. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_register_listener">
<span class="target" id="libatomvmsys_8h_1ac7b7db052990bcae1c3960b29b908cf7"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_register_listener</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <span class="n"><span class="pre">EventListener</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">listener</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_register_listener" title="Link to this definition"></a><br /></dt>
<dd><p>Register a listener. </p>
<p>This function is called by ports to register a listener which is a native alternative to select events. The actual definition of listeners is platform dependent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
<li><p><strong>listener</strong> – the listener to register </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_register_select_event">
<span class="target" id="libatomvmsys_8h_1aa4f09ccbbabd8523af97169ccbfbb093"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_register_select_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">ErlNifEvent</span></span><span class="w"> </span><span class="n"><span class="pre">event</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">is_write</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_register_select_event" title="Link to this definition"></a><br /></dt>
<dd><p>Update the select set by adding an event for reading or writing. </p>
<p>This function probably should update set and call <code class="docutils literal notranslate"><span class="pre">sys_signal</span></code> so new set is taken into account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>event</strong> – the event (file descriptor) to add to the set </p></li>
<li><p><strong>is_write</strong> – whether to add the event for writing (as opposed to reading) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_signal">
<span class="target" id="libatomvmsys_8h_1ad373b27d5d7364accaf66a1762a1cd72"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_signal</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_signal" title="Link to this definition"></a><br /></dt>
<dd><p>Interrupt the wait in <code class="docutils literal notranslate"><span class="pre">sys_poll_events</span></code>. </p>
<p>This function should signal the thread that is waiting in <code class="docutils literal notranslate"><span class="pre">sys_poll_events</span></code> so it returns before the timeout. It is mostly used for SMP builds, but also to abort sleep from driver callbacks on FreeRTOS.</p>
<p>Please note that this function may be called while no thread is waiting in sys_poll_events and this should have no effect. This function is called in scheduler loop (internal function <code class="docutils literal notranslate"><span class="pre">scheduler_run0</span></code>) and when scheduling processes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_time">
<span class="target" id="libatomvmsys_8h_1a3c35c7b6c0ff3c0401f6b8e45ed17d26"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_time</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">timespec</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_time" title="Link to this definition"></a><br /></dt>
<dd><p>gets wall clock time </p>
<p>gets system wall clock time, used by <code class="docutils literal notranslate"><span class="pre">erlang:system_time/1</span></code> </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the timespec that will be updated. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_unregister_listener">
<span class="target" id="libatomvmsys_8h_1a9e226610fbb47c05444cbef9357db5b3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_unregister_listener</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span>, <span class="n"><span class="pre">EventListener</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">listener</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_unregister_listener" title="Link to this definition"></a><br /></dt>
<dd><p>Unregister a listener. </p>
<p>This function is called by ports to unregister a listener which is a native alternative to select events. The actual definition of listeners is platform dependent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>global</strong> – the global context. </p></li>
<li><p><strong>listener</strong> – the listener to unregister. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.sys_unregister_select_event">
<span class="target" id="libatomvmsys_8h_1a742c2c5e8b93c885d2e6c286993e8711"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sys_unregister_select_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span>, <span class="n"><span class="pre">ErlNifEvent</span></span><span class="w"> </span><span class="n"><span class="pre">event</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">is_write</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.sys_unregister_select_event" title="Link to this definition"></a><br /></dt>
<dd><p>Update the select set by removing an event for reading or writing. </p>
<p>This function probably should update set and call <code class="docutils literal notranslate"><span class="pre">sys_signal</span></code> so new set is taken into account. After this function is called, <code class="docutils literal notranslate"><span class="pre">sys_poll_events</span></code> must check for closed select events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>glb</strong> – the global context. </p></li>
<li><p><strong>event</strong> – the event (file descriptor) to remove from the set </p></li>
<li><p><strong>is_write</strong> – whether to remove the event for writing (as opposed to reading) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_alloc_refc_binary">
<span class="target" id="libatomvmterm_8h_1a6d4937d03781326a3ebd773585d1d303"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_alloc_refc_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n"><span class="pre">is_const</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_alloc_refc_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Create a reference-counted binary on the heap. </p>
<p>This function will create a reference-counted binary on the heap. If the data supplied is “const” (e.g., read from a literal in a BEAM file), then the returned term will point directly to the supplied data, and will not technically be reference-counted. Otherwise, a block of memory will be allocated to contain a copy of the data, in addition to a reference counter, so that the block can be free’d when no other terms reference the created object. (The reference count will be initialized to 1). If the data is non-NULL, it will be copied into the newly allocated block of memory. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – the size (in bytes) of the data to allocate </p></li>
<li><p><strong>is_const</strong> – designates whether the data pointed to is “const”, such as a term literal </p></li>
<li><p><strong>heap</strong> – the heap to allocate the binary in </p></li>
<li><p><strong>glb</strong> – the global context as refc binaries are global </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term (reference) pointing to the newly allocated binary in the process heap. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_alloc_sub_binary">
<span class="target" id="libatomvmterm_8h_1ad918c79f88930c49c8e2493799d41dfa"></span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_alloc_sub_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">binary</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_alloc_sub_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Create a sub-binary. </p>
<p>This function will create a sub-binary on the heap, using the supplied binary, offset into the binary, and length of the sub-binary. This function assumes the length of the referenced binary is greater or equal to offset + len. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binary</strong> – the referenced binary </p></li>
<li><p><strong>offset</strong> – the offset into the referenced binary to start the sub-binary </p></li>
<li><p><strong>len</strong> – the length (in bytes) of the sub-binary </p></li>
<li><p><strong>heap</strong> – the heap to allocate the binary in </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term (reference) pointing to the newly allocated sub-binary in the process heap. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_alloc_tuple">
<span class="target" id="libatomvmterm_8h_1a270e5cf68e3294b387a137a1dbb540d9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_alloc_tuple</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_alloc_tuple" title="Link to this definition"></a><br /></dt>
<dd><p>Allocates a tuple on a context heap. </p>
<p>Allocates an uninitialized tuple on the heap with given arity. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – tuple arity (count of tuple elements). </p></li>
<li><p><strong>heap</strong> – the heap to allocate memory in </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term pointing on an empty tuple allocated on the heap. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_binary_data">
<span class="target" id="libatomvmterm_8h_1a22ddca168eaeb7860e8240d79c37e285"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">term_binary_data</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_binary_data" title="Link to this definition"></a><br /></dt>
<dd><p>Gets binary data. </p>
<p>Returns a pointer to stored binary data. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – a term pointing to binary data. Fails if t is not a binary term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a const char * pointing to binary internal data. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_binary_data_size_in_terms">
<span class="target" id="libatomvmterm_8h_1a24a8e31e628f88f5a8bd663281f32ddd"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_binary_data_size_in_terms</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_binary_data_size_in_terms" title="Link to this definition"></a><br /></dt>
<dd><p>The count of terms needed to store the given amount of bytes. </p>
<p>Returns the count of terms needed to store the given size in bytes. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – the size in bytes </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the count of terms </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_binary_size">
<span class="target" id="libatomvmterm_8h_1a9bd4890bb712bcf934b1440116099a18"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_binary_size</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_binary_size" title="Link to this definition"></a><br /></dt>
<dd><p>Gets binary size. </p>
<p>Returns binary size for a given binary term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – a term pointing to binary data. Fails if t is not a binary term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>binary size in bytes. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_binary_heap_size">
<span class="target" id="libatomvmterm_8h_1a6f81e9925fca2e207ccceb8e0e5a02d3"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_binary_heap_size</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_binary_heap_size" title="Link to this definition"></a><br /></dt>
<dd><p>The size (in terms) of a binary of size-many bytes in the heap. </p>
<p>Returns the number of terms needed in the heap to store a binary of a given size (in bytes) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – the size of the binary (in bytes) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the size (in terms) of a binary of size-many bytes in the heap </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_binary_size_is_heap_binary">
<span class="target" id="libatomvmterm_8h_1af113fbdf42267c59ce39cdd8b7295f6f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_binary_size_is_heap_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_binary_size_is_heap_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Determine whether a binary should be a heap binary or not. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a binary of the specified size should be allocated in the process heap (as opposed to being a refc binary) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – the intended binary size </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the binary should be allocated in the process heap; <code class="docutils literal notranslate"><span class="pre">false</span></code>, otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_boxed_size">
<span class="target" id="libatomvmterm_8h_1a82e6aa2d6e807af8a21749a56b299cb9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_boxed_size</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_boxed_size" title="Link to this definition"></a><br /></dt>
<dd><p>Returns size of a boxed term. </p>
<p>Returns the size of a boxed term in term units. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the boxed term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>size of given term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_bs_insert_binary">
<span class="target" id="libatomvmterm_8h_1a430e6c4294fc428d63b46ad485280c5f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_bs_insert_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">src</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">n</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_bs_insert_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Insert an binary into a binary (using bit syntax). </p>
<p>Insert the data from the input binary, starting at the bit position starting in offset. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – a term pointing to binary data. Fails if t is not a binary term. </p></li>
<li><p><strong>offset</strong> – the bitwise offset in t at which to start writing the integer value </p></li>
<li><p><strong>src</strong> – binary source to insert binary data into. </p></li>
<li><p><strong>n</strong> – the number of low-order bits from value to write. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>0 on success; non-zero value if: t is not a binary term n is greater than the number of bits in an integer there is insufficient capacity in the binary to write these bits In general, none of these conditions should apply, if this function is being called in the context of generated bit syntax instructions. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_compare">
<span class="target" id="libatomvmterm_8h_1a28711edef0c7dc12d57d1b0dad50cb7c"></span><span class="n"><span class="pre">TermCompareResult</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_compare</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">other</span></span>, <span class="n"><span class="pre">TermCompareOpts</span></span><span class="w"> </span><span class="n"><span class="pre">opts</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_compare" title="Link to this definition"></a><br /></dt>
<dd><p>Compares two terms. </p>
<p>Tells if first term is &gt;, &lt; or == to the second term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the first term. </p></li>
<li><p><strong>other</strong> – the second term. </p></li>
<li><p><strong>opts</strong> – a value of 1 will compare exact equality, 0 for less strict equality. </p></li>
<li><p><strong>global</strong> – the global context. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>any of TermEquals, TermLessThan, TermGreaterThan or TermCompareMemoryAllocFail error. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_create_empty_binary">
<span class="target" id="libatomvmterm_8h_1a5c7caa562ec73f6fcdcdc975d5ea322f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_create_empty_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_create_empty_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Create an empty binary. All bytes in the binary are initialized to 0x00. </p>
<p>Allocates a binary on the heap, and returns a term pointing to it. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – size of binary data buffer. </p></li>
<li><p><strong>heap</strong> – the heap to allocate memory in </p></li>
<li><p><strong>glb</strong> – the global context as refc binaries are global </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term pointing to the boxed binary pointer. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_create_uninitialized_binary">
<span class="target" id="libatomvmterm_8h_1a2dfb37bb29c0ecaa61665497e22a00cd"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_create_uninitialized_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_create_uninitialized_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Create an uninitialized binary. </p>
<p>Allocates a binary on the heap, and returns a term pointing to it. Note that the data in the binary is uninitialized and could contain any garbage. Make sure to initialize before use, if needed (e.g., via memset). The binary may be allocated as a refc if it is large enough. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>size</strong> – size of binary data buffer. </p></li>
<li><p><strong>heap</strong> – the heap to allocate the binary in </p></li>
<li><p><strong>glb</strong> – the global context as refc binaries are global </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term pointing to the boxed binary pointer. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_display">
<span class="target" id="libatomvmterm_8h_1a9f9ceebb235582ade132478178412e2d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_display</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">FILE</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fd</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_display" title="Link to this definition"></a><br /></dt>
<dd><p>Prints a term to stdout. </p>
<p>Print any term to the given file. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file where the term will be printed. </p></li>
<li><p><strong>t</strong> – the term that will be printed. </p></li>
<li><p><strong>ctx</strong> – the context. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_fprint">
<span class="target" id="libatomvmterm_8h_1a837ff350e3e909dc754aeda5aa185424"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_fprint</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">FILE</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fd</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_fprint" title="Link to this definition"></a><br /></dt>
<dd><p>Prints a term to the given file. </p>
<p>Print any given term to the given file. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fd</strong> – the file where the term will be printed. </p></li>
<li><p><strong>t</strong> – the term that will be printed. </p></li>
<li><p><strong>global</strong> – the <code class="docutils literal notranslate"><a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_global_context"><span class="std std-ref"><span class="pre">GlobalContext</span></span></a></code>. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of printed characters. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_from_atom_index">
<span class="target" id="libatomvmterm_8h_1abd9735b629c5dfc485801bbf8a879860"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_from_atom_index</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">atom_index_t</span></span><span class="w"> </span><span class="n"><span class="pre">atom_index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_from_atom_index" title="Link to this definition"></a><br /></dt>
<dd><p>Term from global atom table index. </p>
<p>Returns a term from the given global atom table index. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atom_index</strong> – global atoms table index. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term that encapsulates the atom. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_from_int11">
<span class="target" id="libatomvmterm_8h_1ad71deafc1f13b85fb6e299dc4e97bf53"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_from_int11</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">int16_t</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_from_int11" title="Link to this definition"></a><br /></dt>
<dd><p>Term from int11. </p>
<p>Returns a term for a given 11 bits integer value. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – the value that will be converted to a term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term that encapsulates the integer value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_from_int32">
<span class="target" id="libatomvmterm_8h_1ae995376e426fa477221553cb8a74786f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_from_int32</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_from_int32" title="Link to this definition"></a><br /></dt>
<dd><p>Term from int32. </p>
<p>Returns a term for a given 32 bits integer value. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – the value that will be converted to a term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term that encapsulates the integer value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_from_int4">
<span class="target" id="libatomvmterm_8h_1a3188d57309f40aee8815c2e6fc58ad03"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_from_int4</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">int8_t</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_from_int4" title="Link to this definition"></a><br /></dt>
<dd><p>Term from int4. </p>
<p>Returns a term for a given 4 bits integer value. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – the value that will be converted to a term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term that encapsulates the integer value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_from_literal_binary">
<span class="target" id="libatomvmterm_8h_1aa475755f828e768c9aa570ae5e4299b3"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_from_literal_binary</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_from_literal_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Term from binary data. </p>
<p>Allocates a binary on the heap, and returns a term pointing to it. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – binary data. </p></li>
<li><p><strong>size</strong> – size of binary data buffer. </p></li>
<li><p><strong>heap</strong> – the heap to allocate the binary in </p></li>
<li><p><strong>glb</strong> – the global context as refc binaries are global </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term pointing to the boxed binary pointer. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_from_local_process_id">
<span class="target" id="libatomvmterm_8h_1afb356b83b622de33c5e38189b9ac2c22"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_from_local_process_id</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">local_process_id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_from_local_process_id" title="Link to this definition"></a><br /></dt>
<dd><p>Term from local process id. </p>
<p>Returns a term for a given local process table index. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_process_id</strong> – the local process table index that will be converted to a term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term that encapsulates a PID. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_from_ref_ticks">
<span class="target" id="libatomvmterm_8h_1a5a7c0e6247d8de0b0ae48a019d3e896a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_from_ref_ticks</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n"><span class="pre">ref_ticks</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_from_ref_ticks" title="Link to this definition"></a><br /></dt>
<dd><p>Get a ref term from ref ticks. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_ticks</strong> – an unique uint64 value that will be used to create ref term. </p></li>
<li><p><strong>heap</strong> – the heap to allocate memory in </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a ref term created using given ref ticks. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_from_resource">
<span class="target" id="libatomvmterm_8h_1afa1d96f63abe69a3a5b0801b23fe4292"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_from_resource</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">resource</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_from_resource" title="Link to this definition"></a><br /></dt>
<dd><p>Create a resource on the heap. </p>
<p>This function creates a resource (obtained from <code class="docutils literal notranslate"><span class="pre">enif_alloc_resource</span></code>) on the heap which must have <code class="docutils literal notranslate"><span class="pre">TERM_BOXED_RESOURCE_SIZE</span></code> free terms.</p>
<p>This function does increment the reference counter as the resource is added to the heap’s mso list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> – resource obtained from <code class="docutils literal notranslate"><span class="pre">enif_alloc_resource</span></code></p></li>
<li><p><strong>heap</strong> – the heap to allocate the resource in </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term pointing to the resource </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_funprint">
<span class="target" id="libatomvmterm_8h_1a46b0d45119af4b01c5e86f4af355264d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_funprint</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">PrinterFun</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">pf</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_funprint" title="Link to this definition"></a><br /></dt>
<dd><p>Prints a term using given printer fun. </p>
<p>Print any given term using a printer fun </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pf</strong> – function that will handle printing. </p></li>
<li><p><strong>t</strong> – the term that will be printed. </p></li>
<li><p><strong>global</strong> – the <code class="docutils literal notranslate"><a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_global_context"><span class="std std-ref"><span class="pre">GlobalContext</span></span></a></code>. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of printed characters. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_get_list_head">
<span class="target" id="libatomvmterm_8h_1aaff7dc13b721afa532067d2d2e769b66"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_get_list_head</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_get_list_head" title="Link to this definition"></a><br /></dt>
<dd><p>Gets list head. </p>
<p>Returns given list head term </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – a term pointing to a valid list (cons) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list head term </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_get_list_ptr">
<span class="target" id="libatomvmterm_8h_1ab383ef718bbae482bf269c95b08d9d67"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">term_get_list_ptr</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_get_list_ptr" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a term * pointing to a list. </p>
<p>Returns a term * pointer to a list (cons) from a given term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – a term that points to a valid cons. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term * pointing to the head of the first cell of a list. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_get_list_tail">
<span class="target" id="libatomvmterm_8h_1a16515313ef1aaa1653e48db7cf0f9f80"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_get_list_tail</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_get_list_tail" title="Link to this definition"></a><br /></dt>
<dd><p>Gets list item tail. </p>
<p>Returns the tail, which is either a pointer to the next list item or nil, of the given list (that is not list tail). </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list item tail term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_get_size_from_boxed_header">
<span class="target" id="libatomvmterm_8h_1aee9a7c3894db9c273dcba80f33ba378e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_get_size_from_boxed_header</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">header</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_get_size_from_boxed_header" title="Link to this definition"></a><br /></dt>
<dd><p>Returns size of a boxed term from its header. </p>
<p>Returns the size that is stored in boxed term header most significant bits for variable size boxed terms. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>header</strong> – the boxed term header. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the size of the boxed term that follows the header. 0 is returned if the boxed term is just the header. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_get_tuple_element">
<span class="target" id="libatomvmterm_8h_1a9e1aeaa809ff3feaffe2fddf5a059a3c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_get_tuple_element</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">elem_index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_get_tuple_element" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the nth tuple element. </p>
<p>Returns the nth element for a given tuple pointed by a term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – a term that points to a tuple, fails otherwise. </p></li>
<li><p><strong>elem_index</strong> – index of the nth element that will be returned. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>nth tuple term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_invalid_term">
<span class="target" id="libatomvmterm_8h_1a3a169e9a3e0ec70a5303a1fce2a1178f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_invalid_term</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_invalid_term" title="Link to this definition"></a><br /></dt>
<dd><p>Gets invalid term. </p>
<p>Returns always an invalid term. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>invalid term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_atom">
<span class="target" id="libatomvmterm_8h_1ace789be8d71edb3e5b49a49bc01b7f47"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_atom</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_atom" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is an atom. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is an atom, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_binary">
<span class="target" id="libatomvmterm_8h_1a9998a1ce58e8458260efd67735010896"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a binary. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a binary stored on the heap, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_boxed">
<span class="target" id="libatomvmterm_8h_1aa2cd5f5b86d44df52a4c433c8f3cb0f0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_boxed</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_boxed" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a boxed value. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a boxed value stored on the heap, such as a tuple, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_cp">
<span class="target" id="libatomvmterm_8h_1a5091dfcb09997b9ee3e5ffa1241e1f2a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_cp</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_cp" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a saved CP. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a saved continuation pointer, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_function">
<span class="target" id="libatomvmterm_8h_1a6e0e70ddd74ee7f54762fc545aac73fb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_function</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_function" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a fun. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a fun, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. <dl>
<dt class="sig sig-object cpp">
<em><span class="pre">Deprecated:</span></em></dt>
<dd><p>renamed to term_is_fun. </p>
</dd></dl>

</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_integer">
<span class="target" id="libatomvmterm_8h_1a75fcf3ba1079808a5400453e2cef3c1c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_integer</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_integer" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is an integer value. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is an integer value, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_invalid_term">
<span class="target" id="libatomvmterm_8h_1aa1fbe2d06ee2bb8bc5d03ce5d9dd2340"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_invalid_term</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_invalid_term" title="Link to this definition"></a><br /></dt>
<dd><p>Check if a term is an invalid term. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is an invalid term, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code> is returned. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_list">
<span class="target" id="libatomvmterm_8h_1a48443ba3ba19887d0078cebaf2e0cccb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_list</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_list" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a list. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a list (cons) or an empty list (nil term), otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “term_is_movable_boxed” in doxygen xml output for project “libatomvm” from directory: /__w/AtomVM/AtomVM/build/doc/xml/</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_nil">
<span class="target" id="libatomvmterm_8h_1ab6a1d81fbf64d75faf4167938b33548c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_nil</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_nil" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is nil. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is nil, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_nonempty_list">
<span class="target" id="libatomvmterm_8h_1a2a53b7f84e98d5da9d8bea8cdcd309d6"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_nonempty_list</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_nonempty_list" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a non empty list. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a non empty list (cons), otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_otp_socket">
<span class="target" id="libatomvmotp__socket_8h_1afe2256b3bbeae7b41bb7da5992216d42"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_otp_socket</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">socket_term</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_otp_socket" title="Link to this definition"></a><br /></dt>
<dd><p>Determine if a term is a socket term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket_term</strong> – the term to test </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if it is a term </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_refc_binary">
<span class="target" id="libatomvmterm_8h_1aa156f5e789e8ba2f137ee66c9039f191"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_refc_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_refc_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a refc binary. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a ref-counted binary, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_sub_binary">
<span class="target" id="libatomvmterm_8h_1a9480eb27e76ce37f3c03e8e101f96b65"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_sub_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_sub_binary" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a sub-binary. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a sub-binary; <code class="docutils literal notranslate"><span class="pre">false</span></code>, otherwise. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds; <code class="docutils literal notranslate"><span class="pre">false</span></code>, otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_pid">
<span class="target" id="libatomvmterm_8h_1ac4663436f587f5231adcc8304e68533b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_pid</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_pid" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a pid. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a process id, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_reference">
<span class="target" id="libatomvmterm_8h_1ac7e945c31708adf3d84bea7edac413fd"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_reference</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_reference" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a reference. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a reference, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_string">
<span class="target" id="libatomvmterm_8h_1abe6c1ee54be6c61102d2f8ddcfd24dc2"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_string</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_string" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a string (i.e., a list of characters) </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a proper (nil-terminated) list of characters or an empty list (nil term), otherwise 0. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_tuple">
<span class="target" id="libatomvmterm_8h_1a3c087f9a596a8d02590b5fbc990caa0d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_tuple</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_tuple" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a tuple. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is a tuple, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_is_uint8">
<span class="target" id="libatomvmterm_8h_1aeb741f60488da776c9396a00f6689b58"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_is_uint8</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_is_uint8" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if a term is a uint8_t. </p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if a term is an integer value in the [0, 255] range, otherwise <code class="docutils literal notranslate"><span class="pre">false</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if check succeeds, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_list_from_list_ptr">
<span class="target" id="libatomvmterm_8h_1ae95d4235b11be0c4dff146dfc72eda70"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_list_from_list_ptr</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">list_elem</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_list_from_list_ptr" title="Link to this definition"></a><br /></dt>
<dd><p>Gets list term from pointer. </p>
<p>Return given list term from a list element pointer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_elem</strong> – a pointer to a list element. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a list term </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_list_init_prepend">
<span class="target" id="libatomvmterm_8h_1aea9e0864466f0abeca9da34437023edb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_list_init_prepend</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">list_elem</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">head</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">tail</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_list_init_prepend" title="Link to this definition"></a><br /></dt>
<dd><p>Prepends a term to an existing list. </p>
<p>Initializes a list item, set head to the given term and points tail to the given next item (that might be nil). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>head</strong> – term, the encapsulated list item value. </p></li>
<li><p><strong>tail</strong> – either nil or next list item. </p></li>
<li><p><strong>list_elem</strong> – the memory area that will be initialized. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term pointing to the newly initialized list item. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_list_length">
<span class="target" id="libatomvmterm_8h_1a94121b4bf944d85290512273a9943977"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_list_length</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">proper</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_list_length" title="Link to this definition"></a><br /></dt>
<dd><p>Returns list length. </p>
<p>Counts the number of list items </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of list items </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_list_prepend">
<span class="target" id="libatomvmterm_8h_1ab666a281a240da4c32de7bb8416085ef"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_list_prepend</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">head</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">tail</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_list_prepend" title="Link to this definition"></a><br /></dt>
<dd><p>Prepends a term to an existing list. </p>
<p>Allocates a new list item, set head to the given term and points tail to the given next item (that might be nil). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>head</strong> – term, the encapsulated list item value. </p></li>
<li><p><strong>tail</strong> – either nil or next list item. </p></li>
<li><p><strong>heap</strong> – the heap to allocate memory in </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term pointing to the newly created list item. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_maybe_create_sub_binary">
<span class="target" id="libatomvmterm_8h_1ad4e89dc85511089cd7a33d4e4862995f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_maybe_create_sub_binary</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">binary</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">offset</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span>, <span class="n"><span class="pre">Heap</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">heap</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">glb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_maybe_create_sub_binary" title="Link to this definition"></a><br /></dt>
<dd><p>(Maybe) create a sub-binary &amp;#8212; if not, create a heap binary. </p>
<p>Allocates a sub-binary if the source binary is reference-counted binary and if the length of the sub-binary is sufficiently large. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binary</strong> – source binary </p></li>
<li><p><strong>offset</strong> – offset into the source binary marking the start of the sub-binary </p></li>
<li><p><strong>len</strong> – desired length of the sub-binary </p></li>
<li><p><strong>heap</strong> – the heap to allocate memory in </p></li>
<li><p><strong>glb</strong> – the global context as refc binaries are global </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a term pointing to the boxed binary pointer. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_nil">
<span class="target" id="libatomvmterm_8h_1ad6c695a0d23f3fad2515c7193f2522a5"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_nil</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_nil" title="Link to this definition"></a><br /></dt>
<dd><p>Gets nil value. </p>
<p>Returns always the nil value. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>nil value term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_put_tuple_element">
<span class="target" id="libatomvmterm_8h_1a1f22de34f5e0096807ed82e4802cdc72"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_put_tuple_element</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">elem_index</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">put_value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_put_tuple_element" title="Link to this definition"></a><br /></dt>
<dd><p>Replaces the content of a tuple element. </p>
<p>Destructively replaces the nth element of an existing tuple, it should be used only on newly allocated tuples. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term pointing to the target tuple, fails if not a tuple. </p></li>
<li><p><strong>elem_index</strong> – the index of the element that will be replaced. </p></li>
<li><p><strong>put_value</strong> – the term that will be put on the nth tuple element. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_refc_binary_ptr">
<span class="target" id="libatomvmterm_8h_1a5ba235f8a2b4d3b7785ea5b8299a42c1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">RefcBinary</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">term_refc_binary_ptr</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">refc_binary</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_refc_binary_ptr" title="Link to this definition"></a><br /></dt>
<dd><p>Get the pointer off heap refc binary. </p>
<p>Returns address </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>offset (in words). </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_snprint">
<span class="target" id="libatomvmterm_8h_1a041be752ef5f4e437d06b31d1b82610c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_snprint</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">size</span></span>, <span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../../atomvm-internals.html#c.GlobalContext" title="GlobalContext"><span class="n"><span class="pre">GlobalContext</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">global</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_snprint" title="Link to this definition"></a><br /></dt>
<dd><p>Write a term to a string as text. </p>
<p>Print any given term to the given buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buf</strong> – the buffer where the term will be printed. </p></li>
<li><p><strong>size</strong> – the buffer size. </p></li>
<li><p><strong>t</strong> – the term that will be printed. </p></li>
<li><p><strong>global</strong> – the <code class="docutils literal notranslate"><a class="reference internal" href="../../atomvm-internals.html#libatomvmstruct_global_context"><span class="std std-ref"><span class="pre">GlobalContext</span></span></a></code>. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of printed characters. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_sub_binary_heap_size">
<span class="target" id="libatomvmterm_8h_1a83922fbe708cddb8f017b5c434749a33"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_sub_binary_heap_size</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">binary</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_sub_binary_heap_size" title="Link to this definition"></a><br /></dt>
<dd><p>Get the number of words in the heap to allocate for a sub-binary. </p>
<p>This function is used to compute the number of words needed on the heap to allocate for a sub-binary. This function is typically used in conjunction with term_maybe_create_sub_binary </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binary</strong> – source binary </p></li>
<li><p><strong>len</strong> – desired length of the sub-binary </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the number of words needed to allocate on the process heap for the desired sub-binary </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_to_atom_index">
<span class="target" id="libatomvmterm_8h_1a2b4d4884bf05e005af45fa454d9ff1e9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">atom_index_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_to_atom_index</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_to_atom_index" title="Link to this definition"></a><br /></dt>
<dd><p>Gets global atom table index. </p>
<p>Returns atom table index for given atom term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be converted to atom table index. t must be a valid atom term. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a global atom table index. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_to_const_term_ptr">
<span class="target" id="libatomvmterm_8h_1a2a3af5fc9565344386151a99e4970cb6"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">term_to_const_term_ptr</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_to_const_term_ptr" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a const pointer to a term stored on the heap. </p>
<p>Casts a term to a const term * that points to a value stored on the heap. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be casted, it must be valid. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a const pointer to a term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_to_int32">
<span class="target" id="libatomvmterm_8h_1a8ae871bc4acb7e313ef49a65dee5509b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_to_int32</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_to_int32" title="Link to this definition"></a><br /></dt>
<dd><p>Term to int32. </p>
<p>Returns an int32 for a given term. No overflow check is executed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be converted to int32, term type is checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a int32 value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_to_local_process_id">
<span class="target" id="libatomvmterm_8h_1a20b67853b542f85c35e7f99756deb810"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_to_local_process_id</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_to_local_process_id" title="Link to this definition"></a><br /></dt>
<dd><p>Gets process table index for a local pid or port. </p>
<p>Returns local process table index for given atom term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be converted to local process table index, term type is checked. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a local process table index. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_to_otp_socket">
<span class="target" id="libatomvmotp__socket_8h_1ab02a6c1223069172dc71d254e9707b7e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_to_otp_socket</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">socket_term</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">SocketResource</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">otp_socket</span></span>, <a class="reference internal" href="../../atomvm-internals.html#c.Context" title="Context"><span class="n"><span class="pre">Context</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_to_otp_socket" title="Link to this definition"></a><br /></dt>
<dd><p>Get the resource object associated with a socket term. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket_term</strong> – the term with the socket </p></li>
<li><p><strong>otp_socket</strong> – on output, the socket resource </p></li>
<li><p><strong>ctx</strong> – the current context </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true in case of success </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_to_term_ptr">
<span class="target" id="libatomvmterm_8h_1ace5e888ac1b471570301cee9e40b78d4"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">term_to_term_ptr</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_to_term_ptr" title="Link to this definition"></a><br /></dt>
<dd><p>Gets a pointer to a term stored on the heap. </p>
<p>Casts a term to a term * that points to a value stored on the heap. Be aware: terms are assumed to be immutable. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be casted, it must be valid. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a pointer to a term. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.term_to_uint8">
<span class="target" id="libatomvmterm_8h_1a9faada5e110bfc5a4e48fe78770219d1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">term_to_uint8</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">term</span></span><span class="w"> </span><span class="n"><span class="pre">t</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.term_to_uint8" title="Link to this definition"></a><br /></dt>
<dd><p>Term to uint8. </p>
<p>Returns an uint8 for a given term. No overflow check is executed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> – the term that will be converted to uint8. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an uint8_t value. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.libAtomVM.functions.timer_list_next">
<span class="target" id="libatomvmtimer__list_8h_1ad36a088e4e1661cb2c7169e471a00ff8"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timer_list_next</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">TimerList</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tw</span></span>, <span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n"><span class="pre">now</span></span>, <span class="n"><span class="pre">timer_list_callback_t</span></span><span class="w"> </span><span class="n"><span class="pre">cb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.libAtomVM.functions.timer_list_next" title="Link to this definition"></a><br /></dt>
<dd><p>process the timer wheel, calling cb for every item that should be fired (for which <code class="docutils literal notranslate"><span class="pre">expiry_time</span></code> &lt;= <code class="docutils literal notranslate"><span class="pre">now</span></code>). </p>
<p>The current algorithm is very basic. Under heavy load, two processes scheduled for different timers might be triggered (same seems to be true with BEAM). The only optimization is the next time is saved so the function doesn’t run every timer on every call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tw</strong> – the timer wheel </p></li>
<li><p><strong>now</strong> – the current monotonic date </p></li>
<li><p><strong>cb</strong> – the callback </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="libAtomVM" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data_structures.html" class="btn btn-neutral float-right" title="Data Structures" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2024, AtomVM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!--
 Copyright 2023 Winford (Uncle Grumpy) <winford@object.stream>

 SPDX-License-Identifier: Apache-2.0 OR LGPL-2.1-or-later

 Based on the work of  Michael Altfield:
 https://tech.michaelaltfield.net/2020/07/18/sphinx-rtd-github-pages-1
-->



  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-download"></span><span class="fa fa-book"> AtomVM Docs version:</span>
      main branch (unstable)
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt><span class="fa fa-book"> Versions</span></dt>
        
          
          <dd><a href="/v0.5.0/">v0.5.0</a></dd>
          
        
          
          <dd><a href="/v0.6.0/">v0.6.0</a></dd>
          
        
          
          <dd><a href="/v0.6.1/">v0.6.1</a></dd>
          
        
          
          <dd><a href="/v0.6.2/">v0.6.2</a></dd>
          
        
          
          <dd><a href="/v0.6.3/">v0.6.3</a></dd>
          
        
          
          <dd><a href="/v0.6.4/">v0.6.4</a></dd>
          
        
          
          <dd><a href="/v0.6.5/">v0.6.5</a></dd>
          
        
          
          <dd><a href="/v0.6.6/">v0.6.6</a></dd>
          
        
          
          <dd><a href="/release-0.6/">release-0.6 branch (unreleased)</a></dd>
          
        
           <strong> 
          <dd><a href="/main/">main branch (unstable)</a></dd>
           </strong> 
        
      </dl>
      
      
      <dl>
        <dt><span class="fa fa-download"> Downloads</span></dt>
        
          <dd><a href="/main/epub/AtomVM-main.epub">epub</a></dd>
        
      </dl>
      
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>